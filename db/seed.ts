const client = require("./db");

const seed = async (seedAll: boolean) => {
  let query = `
    INSERT INTO ranks VALUES ('1');
    INSERT INTO flights VALUES ('1');
    INSERT INTO cats VALUES ('1', false);
    INSERT INTO positions VALUES ('1', 'APP');
    INSERT INTO scenario_categories VALUES ('1');

    INSERT INTO users (id, username, password) VALUES ('a3bc9288-ef05-4873-be4c-4b35436f852e', '1', '1');

    INSERT INTO profiles (
      user_id, rank, full_name, id_number, date_of_birth, date_accepted, reporting_date, cat, flight
    )
    VALUES (
      'a3bc9288-ef05-4873-be4c-4b35436f852e',
      '2LT',
      '1',
      '123456789',
      1,
      1,
      1,
      'A',
      'HQ'
    );

    INSERT INTO user_positions (id, user_id, position, start_date, end_date, approval_date)
    VALUES (
      'a3bc9288-ef05-4873-be4c-4b35436f852e',
      'a3bc9288-ef05-4873-be4c-4b35436f852e',
      'ARR',
      1,
      1,
      1
    );

    INSERT INTO assessments (id, user_position_id, assessment_number, instructor, date, intensity, objective1, a, b, c, d, e, f, g, h, I, j, safety, remarks, is_simulator)
    VALUES (
      'a3bc9288-ef05-4873-be4c-4b35436f852e',
      'a3bc9288-ef05-4873-be4c-4b35436f852e',
      1,
      '1',
      1,
      1,
      '1',
      1,
      1,
      1,
      1,
      1,
      1,
      1,
      1,
      1,
      1,
      true,
      '1',
      false
    );

    INSERT INTO scenarios (id, position, scenario_number, scenario_category, first_position_requirement, subsequent_position_requirement, revalidation_requirement)
    VALUES (
      'a3bc9288-ef05-4873-be4c-4b35436f852e',
      'ARR',
      1,
      'BEGINNER',
      1,
      1,
      1
    );

    INSERT INTO scenario_requirements (id, user_position_id, scenario_id, requirement, fulfilled)
    VALUES (
      'a3bc9288-ef05-4873-be4c-4b35436f852e',
      'a3bc9288-ef05-4873-be4c-4b35436f852e',
      'a3bc9288-ef05-4873-be4c-4b35436f852e',
      1,
      1
    );

    INSERT INTO assessment_scenarios (id, assessment_id, scenario_id)
    VALUES (
      'a3bc9288-ef05-4873-be4c-4b35436f852e',
      'a3bc9288-ef05-4873-be4c-4b35436f852e',
      'a3bc9288-ef05-4873-be4c-4b35436f852e'
    );

    INSERT INTO tokens (id, type, parent_id) VALUES ('a3bc9288-ef05-4873-be4c-4b35436f852e', '1', 'a3bc9288-ef05-4873-be4c-4b35436f852e');
    DELETE FROM tokens WHERE id = 'a3bc9288-ef05-4873-be4c-4b35436f852e' AND type = '1' AND parent_id = 'a3bc9288-ef05-4873-be4c-4b35436f852e';
    DELETE FROM assessment_scenarios WHERE id = 'a3bc9288-ef05-4873-be4c-4b35436f852e';
    DELETE FROM scenario_requirements WHERE id = 'a3bc9288-ef05-4873-be4c-4b35436f852e';
    DELETE FROM scenarios WHERE id = 'a3bc9288-ef05-4873-be4c-4b35436f852e';
    DELETE FROM assessments WHERE id = 'a3bc9288-ef05-4873-be4c-4b35436f852e';
    DELETE FROM user_positions WHERE id = 'a3bc9288-ef05-4873-be4c-4b35436f852e';
    DELETE FROM profiles WHERE user_id = 'a3bc9288-ef05-4873-be4c-4b35436f852e';
    DELETE FROM users WHERE username = '1';
    DELETE FROM scenario_categories WHERE scenario_category = '1';
    DELETE FROM positions WHERE position = '1';
    DELETE FROM cats WHERE cat = '1';
    DELETE FROM flights WHERE flight = '1';
    DELETE FROM ranks WHERE rank = '1';
  `;
  await client.query(query, async (err: Error, res: any) => {
    if (!err) {
      console.log("Tables already exist");
      return;
    }
    console.log(err);

    // Set up of tables
    await client.query(
      `
      BEGIN;
          CREATE TABLE IF NOT EXISTS users (
            id uuid PRIMARY KEY DEFAULT uuid_generate_v4() UNIQUE,
            username varchar(20) NOT NULL UNIQUE,
            password varchar(60) NOT NULL,
            is_admin boolean NOT NULL DEFAULT false
          );
      
          CREATE TABLE IF NOT EXISTS positions (
            position varchar(30) NOT NULL PRIMARY KEY UNIQUE,
            category varchar(4) NOT NULL
          );
          CREATE TABLE IF NOT EXISTS ranks (
            rank varchar(4) NOT NULL PRIMARY KEY UNIQUE
          );
          CREATE TABLE IF NOT EXISTS cats (
            cat varchar(5) NOT NULL PRIMARY KEY UNIQUE,
            is_upgrade boolean NOT NULL
          );
          CREATE TABLE IF NOT EXISTS flights (
            flight varchar(15) NOT NULL PRIMARY KEY UNIQUE
          );
          CREATE TABLE IF NOT EXISTS scenario_categories (
            scenario_category varchar(15) NOT NULL PRIMARY KEY UNIQUE
          );
      
          CREATE TABLE IF NOT EXISTS profiles (
            user_id uuid PRIMARY KEY UNIQUE,
            rank varchar(4),
            full_name varchar(50) NOT NULL,
            id_number varchar(9) NOT NULL,
            date_of_birth int NOT NULL,
            date_accepted int NOT NULL,
            reporting_date int NOT NULL,
            cat varchar(5),
            flight varchar(15),
            CONSTRAINT FK_user_id FOREIGN KEY (user_id) REFERENCES users (id),
            CONSTRAINT FK_rank FOREIGN KEY (rank) REFERENCES ranks (rank) ON UPDATE CASCADE,
            CONSTRAINT FK_cat FOREIGN KEY (cat) REFERENCES cats (cat) ON UPDATE CASCADE,
            CONSTRAINT FK_flight FOREIGN KEY (flight) REFERENCES flights (flight) ON UPDATE CASCADE
          );
      
          CREATE TABLE IF NOT EXISTS user_positions (
            id uuid PRIMARY KEY UNIQUE DEFAULT uuid_generate_v4(),
            user_id uuid NOT NULL,
            position varchar(30),
            start_date int NOT NULL,
            end_date int,
            approval_date int,
            is_revalidation boolean NOT NULL DEFAULT false,
            is_instructor boolean NOT NULL DEFAULT false,
            cat_upgrade varchar(5),
            CONSTRAINT FK_user_id FOREIGN KEY (user_id) REFERENCES users (id),
            CONSTRAINT FK_position FOREIGN KEY (position) REFERENCES positions (position) ON UPDATE CASCADE,
            CONSTRAINT FK_cat_upgrade FOREIGN KEY (cat_upgrade) REFERENCES cats (cat) ON UPDATE CASCADE
          );
      
          CREATE TABLE IF NOT EXISTS assessments (
            id uuid PRIMARY KEY UNIQUE DEFAULT uuid_generate_v4(),
            user_position_id uuid NOT NULL,
            assessment_number smallint NOT NULL,
            instructor varchar(50) NOT NULL,
            date int NOT NULL,
            intensity smallint NOT NULL,
            objective1 text NOT NULL,
            objective2 text,
            objective3 text,
            a smallint NOT NULL,
            b smallint NOT NULL,
            c smallint NOT NULL,
            d smallint NOT NULL,
            e smallint NOT NULL,
            f smallint NOT NULL,
            g smallint NOT NULL,
            h smallint NOT NULL,
            i smallint NOT NULL,
            j smallint NOT NULL,
            safety boolean NOT NULL,
            grade smallint GENERATED ALWAYS AS (a + b + c + d + e + f + g + h + i + j) STORED,
            remarks text NOT NULL,
            is_simulator boolean NOT NULL,
            CONSTRAINT FK_user_position_id FOREIGN KEY (user_position_id) REFERENCES user_positions (id),
            CONSTRAINT CHK_grades CHECK (
              a > 0 AND a <= 10 AND
              b > 0 AND b <= 10 AND
              c > 0 AND c <= 10 AND
              d > 0 AND d <= 10 AND
              e > 0 AND e <= 10 AND
              f > 0 AND f <= 10 AND
              g > 0 AND g <= 10 AND
              h > 0 AND h <= 10 AND
              i > 0 AND i <= 10 AND
              j > 0 AND j <= 10 AND
              grade > 0 AND grade <= 100
            )
          );

          CREATE TABLE IF NOT EXISTS scenarios (
            id uuid PRIMARY KEY UNIQUE DEFAULT uuid_generate_v4(),
            position varchar(30),
            scenario_number smallint NOT NULL,
            scenario_category varchar(15) NOT NULL,
            first_position_requirement smallint NOT NULL,
            subsequent_position_requirement smallint NOT NULL,
            revalidation_requirement smallint NOT NULL,
            first_position_live_requirement smallint,
            subsequent_position_live_requirement smallint,
            revalidation_live_requirement smallint,
            CONSTRAINT FK_position FOREIGN KEY (position) REFERENCES positions (position) ON UPDATE CASCADE,
            CONSTRAINT FK_scenario_category FOREIGN KEY (scenario_category) REFERENCES scenario_categories (scenario_category) ON UPDATE CASCADE
          );

          CREATE TABLE IF NOT EXISTS scenario_requirements (
            id uuid PRIMARY KEY UNIQUE DEFAULT uuid_generate_v4(),
            user_position_id uuid NOT NULL,
            scenario_id uuid NOT NULL,
            requirement smallint NOT NULL,
            fulfilled smallint NOT NULL,
            live_requirement smallint,
            live_fulfilled smallint,
            CONSTRAINT FK_user_position_id FOREIGN KEY (user_position_id) REFERENCES user_positions (id),
            CONSTRAINT FK_scenario_id FOREIGN KEY (scenario_id) REFERENCES scenarios (id)
          );

          CREATE TABLE IF NOT EXISTS assessment_scenarios (
            id uuid PRIMARY KEY UNIQUE DEFAULT uuid_generate_v4(),
            assessment_id uuid NOT NULL,
            scenario_id uuid NOT NULL,
            CONSTRAINT FK_assessment_id FOREIGN KEY (assessment_id) REFERENCES assessments (id),
            CONSTRAINT FK_scenario_id FOREIGN KEY (scenario_id) REFERENCES scenarios (id)
          );
      
          CREATE TABLE IF NOT EXISTS tokens (
            id uuid PRIMARY KEY UNIQUE,
            type varchar(7) NOT NULL,
            parent_id uuid
          );
  
      COMMIT;
  
      INSERT INTO tokens (id, type, parent_id) VALUES ('a3bc9288-ef05-4873-be4c-4b35436f852e', '1', 'a3bc9288-ef05-4873-be4c-4b35436f852e');
      DELETE FROM tokens WHERE id = 'a3bc9288-ef05-4873-be4c-4b35436f852e' AND type = '1' AND parent_id = 'a3bc9288-ef05-4873-be4c-4b35436f852e';
      `,
      async (err: Error, res: any) => {
        if (err) {
          await client.query("ROLLBACK;");
          throw err;
        }
        console.log("Tables Created");
      }
    );

    // Insert default values for ranks, cats, flights, positions
    await client.query(
      `
      BEGIN;
          INSERT INTO ranks (rank) VALUES ('2LT'), ('LTA'), ('CPT'), ('MAJ'), ('LTC'), ('SLTC'), ('COL'), ('BG'), ('MG'), ('LG');
          INSERT INTO cats (cat, is_upgrade) VALUES ('A', true), ('B', true), ('C', true), ('D', false), ('CNX', true);
          INSERT INTO flights (flight) VALUES ('HQ'), ('S3'), ('APP'), ('AREA'), ('OPS HUB'), ('PARTICIPATION'), ('TRAINING'), ('CMS');
          INSERT INTO positions (position, category) VALUES ('CNX', 'CNX'), ('FIS', 'SUP'), ('DEP', 'AREA'), ('ARR', 'AREA'), ('TAP', 'APP'), ('TAC', 'SUP'), ('PAP', 'APP'), ('PAC', 'SUP'), ('ISL', 'APP');
          INSERT INTO scenario_categories (scenario_category) VALUES ('BEGINNER'), ('INTERMEDIATE'), ('ADVANCED');
          
          -- Insert Scenarios
          INSERT INTO scenarios
          (position, scenario_number, scenario_category, first_position_requirement, subsequent_position_requirement, revalidation_requirement, first_position_live_requirement, subsequent_position_live_requirement, revalidation_live_requirement)
          VALUES
          ('DEP', 1, 'BEGINNER', 5, 3, 2, 3, 2, 1),
          ('DEP', 2, 'BEGINNER', 5, 3, 2, 3, 2, 1),
          ('DEP', 3, 'BEGINNER', 5, 3, 2, 3, 2, 1),
          ('DEP', 4, 'BEGINNER', 5, 3, 2, 3, 2, 1),
          ('DEP', 5, 'BEGINNER', 3, 2, 1, 0, 0, 0),
          ('DEP', 6, 'BEGINNER', 3, 2, 1, 1, 1, 1),
          ('DEP', 7, 'INTERMEDIATE', 3, 2, 1, 1, 1, 1),
          ('DEP', 8, 'INTERMEDIATE', 2, 2, 1, 1, 1, 1),
          ('DEP', 9, 'INTERMEDIATE', 2, 1, 1, 0, 0, 0),
          ('DEP', 10, 'ADVANCED', 1, 1, 1, 0, 0, 0),
          ('ARR', 1, 'BEGINNER', 5, 3, 2, 3, 2, 1),
          ('ARR', 2, 'BEGINNER', 5, 3, 2, 3, 2, 1),
          ('ARR', 3, 'BEGINNER', 5, 3, 2, 3, 2, 1),
          ('ARR', 4, 'BEGINNER', 5, 3, 2, 3, 2, 1),
          ('ARR', 5, 'BEGINNER', 3, 2, 1, 0, 0, 0),
          ('ARR', 6, 'BEGINNER', 3, 2, 1, 1, 1, 1),
          ('ARR', 7, 'INTERMEDIATE', 3, 2, 1, 1, 1, 1),
          ('ARR', 8, 'INTERMEDIATE', 2, 2, 1, 1, 1, 1),
          ('ARR', 9, 'INTERMEDIATE', 2, 1, 1, 0, 0, 0),
          ('ARR', 10, 'ADVANCED', 1, 1, 1, 0, 0, 0),
          ('FIS', 1, 'BEGINNER', 0, 3, 2, 0, 2, 1),
          ('FIS', 2, 'BEGINNER', 0, 3, 2, 0, 2, 1),
          ('FIS', 3, 'BEGINNER', 0, 3, 2, 0, 2, 1),
          ('FIS', 4, 'BEGINNER', 0, 3, 2, 0, 2, 1),
          ('FIS', 5, 'BEGINNER', 0, 2, 1, 0, 0, 0),
          ('FIS', 6, 'BEGINNER', 0, 2, 1, 0, 1, 1),
          ('FIS', 7, 'INTERMEDIATE', 0, 2, 1, 0, 1, 1),
          ('FIS', 8, 'INTERMEDIATE', 0, 2, 1, 0, 1, 1),
          ('FIS', 9, 'INTERMEDIATE', 0, 1, 1, 0, 0, 0),
          ('FIS', 10, 'ADVANCED', 0, 1, 1, 0, 0, 0),
          ('TAP', 1, 'BEGINNER', 5, 3, 2, 3, 2, 1),
          ('TAP', 2, 'BEGINNER', 5, 3, 2, 3, 2, 1),
          ('TAP', 3, 'BEGINNER', 5, 3, 2, 3, 2, 1),
          ('TAP', 4, 'BEGINNER', 5, 3, 2, 3, 2, 1),
          ('TAP', 5, 'BEGINNER', 3, 2, 1, 0, 0, 0),
          ('TAP', 6, 'BEGINNER', 3, 2, 1, 1, 1, 1),
          ('TAP', 7, 'INTERMEDIATE', 3, 2, 1, 1, 1, 1),
          ('TAP', 8, 'INTERMEDIATE', 2, 2, 1, 1, 1, 1),
          ('TAP', 9, 'INTERMEDIATE', 2, 1, 1, 0, 0, 0),
          ('TAP', 10, 'ADVANCED', 1, 1, 1, 0, 0, 0),
          ('TAC', 1, 'BEGINNER', 0, 3, 2, 0, 2, 1),
          ('TAC', 2, 'BEGINNER', 0, 3, 2, 0, 2, 1),
          ('TAC', 3, 'BEGINNER', 0, 3, 2, 0, 2, 1),
          ('TAC', 4, 'BEGINNER', 0, 3, 2, 0, 2, 1),
          ('TAC', 5, 'BEGINNER', 0, 2, 1, 0, 0, 0),
          ('TAC', 6, 'BEGINNER', 0, 2, 1, 0, 1, 1),
          ('TAC', 7, 'INTERMEDIATE', 0, 2, 1, 0, 1, 1),
          ('TAC', 8, 'INTERMEDIATE', 0, 2, 1, 0, 1, 1),
          ('TAC', 9, 'INTERMEDIATE', 0, 1, 1, 0, 0, 0),
          ('TAC', 10, 'ADVANCED', 0, 1, 1, 0, 0, 0),
          ('PAP', 1, 'BEGINNER', 5, 3, 2, 3, 2, 1),
          ('PAP', 2, 'BEGINNER', 5, 3, 2, 3, 2, 1),
          ('PAP', 3, 'BEGINNER', 5, 3, 2, 3, 2, 1),
          ('PAP', 4, 'BEGINNER', 5, 3, 2, 3, 2, 1),
          ('PAP', 5, 'BEGINNER', 3, 2, 1, 0, 0, 0),
          ('PAP', 6, 'BEGINNER', 3, 2, 1, 1, 1, 1),
          ('PAP', 7, 'INTERMEDIATE', 3, 2, 1, 1, 1, 1),
          ('PAP', 8, 'INTERMEDIATE', 2, 2, 1, 1, 1, 1),
          ('PAP', 9, 'INTERMEDIATE', 2, 1, 1, 0, 0, 0),
          ('PAP', 10, 'ADVANCED', 1, 1, 1, 0, 0, 0),
          ('PAC', 1, 'BEGINNER', 0, 3, 2, 0, 2, 1),
          ('PAC', 2, 'BEGINNER', 0, 3, 2, 0, 2, 1),
          ('PAC', 3, 'BEGINNER', 0, 3, 2, 0, 2, 1),
          ('PAC', 4, 'BEGINNER', 0, 3, 2, 0, 2, 1),
          ('PAC', 5, 'BEGINNER', 0, 2, 1, 0, 0, 0),
          ('PAC', 6, 'BEGINNER', 0, 2, 1, 0, 1, 1),
          ('PAC', 7, 'INTERMEDIATE', 0, 2, 1, 0, 1, 1),
          ('PAC', 8, 'INTERMEDIATE', 0, 2, 1, 0, 1, 1),
          ('PAC', 9, 'INTERMEDIATE', 0, 1, 1, 0, 0, 0),
          ('PAC', 10, 'ADVANCED', 0, 1, 1, 0, 0, 0),
          ('ISL', 1, 'BEGINNER', 0, 3, 2, 0, 2, 1),
          ('ISL', 2, 'BEGINNER', 0, 3, 2, 0, 2, 1),
          ('ISL', 3, 'BEGINNER', 0, 3, 2, 0, 2, 1),
          ('ISL', 4, 'BEGINNER', 0, 3, 2, 0, 2, 1),
          ('ISL', 5, 'BEGINNER', 0, 2, 1, 0, 0, 0),
          ('ISL', 6, 'BEGINNER', 0, 2, 1, 0, 1, 1),
          ('ISL', 7, 'INTERMEDIATE', 0, 2, 1, 0, 1, 1),
          ('ISL', 8, 'INTERMEDIATE', 0, 2, 1, 0, 1, 1),
          ('ISL', 9, 'INTERMEDIATE', 0, 1, 1, 0, 0, 0),
          ('ISL', 10, 'ADVANCED', 0, 1, 1, 0, 0, 0)
          ;

      COMMIT;
    `,
      async (err: Error, res: any) => {
        if (err) {
          await client.query("ROLLBACK;");
          throw err;
        }
        console.log("Inserted Enums");
      }
    );

    if (!seedAll) {
      console.log("Tables Only - Seeding Completed");
      return;
    }

    // Insert seed
    await client.query(
      `
      BEGIN;
          -- Insert Users
          INSERT INTO users (username, password, is_admin)
          VALUES
          ('admin', '$2b$12$43OLPsbg2jkSzd5yKWQEnucV0rSN0Zsf2hozra7RWzuvGqn2zjyxa', true),
          ('instructor', '$2b$12$43OLPsbg2jkSzd5yKWQEnucV0rSN0Zsf2hozra7RWzuvGqn2zjyxa', false),
          ('alpha', '$2b$12$43OLPsbg2jkSzd5yKWQEnucV0rSN0Zsf2hozra7RWzuvGqn2zjyxa', false),
          ('bravo', '$2b$12$43OLPsbg2jkSzd5yKWQEnucV0rSN0Zsf2hozra7RWzuvGqn2zjyxa', false),
          ('charlie', '$2b$12$43OLPsbg2jkSzd5yKWQEnucV0rSN0Zsf2hozra7RWzuvGqn2zjyxa', false),
          ('delta', '$2b$12$43OLPsbg2jkSzd5yKWQEnucV0rSN0Zsf2hozra7RWzuvGqn2zjyxa', false),
          ('echo', '$2b$12$43OLPsbg2jkSzd5yKWQEnucV0rSN0Zsf2hozra7RWzuvGqn2zjyxa', false),
          ('foxtrot', '$2b$12$43OLPsbg2jkSzd5yKWQEnucV0rSN0Zsf2hozra7RWzuvGqn2zjyxa', false),
          ('golf', '$2b$12$43OLPsbg2jkSzd5yKWQEnucV0rSN0Zsf2hozra7RWzuvGqn2zjyxa', false),
          ('hotel', '$2b$12$43OLPsbg2jkSzd5yKWQEnucV0rSN0Zsf2hozra7RWzuvGqn2zjyxa', false),
          ('india', '$2b$12$43OLPsbg2jkSzd5yKWQEnucV0rSN0Zsf2hozra7RWzuvGqn2zjyxa', false),
          ('juliet', '$2b$12$43OLPsbg2jkSzd5yKWQEnucV0rSN0Zsf2hozra7RWzuvGqn2zjyxa', false),
          ('kilo', '$2b$12$43OLPsbg2jkSzd5yKWQEnucV0rSN0Zsf2hozra7RWzuvGqn2zjyxa', false),
          ('lima', '$2b$12$43OLPsbg2jkSzd5yKWQEnucV0rSN0Zsf2hozra7RWzuvGqn2zjyxa', false),
          ('mike', '$2b$12$43OLPsbg2jkSzd5yKWQEnucV0rSN0Zsf2hozra7RWzuvGqn2zjyxa', false),
          ('november', '$2b$12$43OLPsbg2jkSzd5yKWQEnucV0rSN0Zsf2hozra7RWzuvGqn2zjyxa', false);

          -- Insert Profiles
          INSERT INTO profiles (user_id, rank, full_name, id_number, date_of_birth, date_accepted, reporting_date, cat, flight)
          VALUES
          ((SELECT id FROM users WHERE username = 'admin'), 'CPT', 'admin', '123456789', 800553600, 1368633600, 1381852800, 'A', 'HQ'),
          ((SELECT id FROM users WHERE username = 'instructor'), 'CPT', 'instructor', '123456789', 800553600, 1368633600, 1381852800, 'A', 'HQ'),
          ((SELECT id FROM users WHERE username = 'alpha'), '2LT', 'alpha', '123456789', 800553600, 1368633600, 1381852800, 'D', 'HQ'),
          ((SELECT id FROM users WHERE username = 'bravo'), '2LT', 'bravo', '123456789', 800553600, 1368633600, 1381852800, 'D', 'HQ'),
          ((SELECT id FROM users WHERE username = 'charlie'), '2LT', 'charlie', '123456789', 800553600, 1368633600, 1381852800, 'D', 'HQ'),
          ((SELECT id FROM users WHERE username = 'delta'), '2LT', 'delta', '123456789', 800553600, 1368633600, 1381852800, 'D', 'HQ'),
          ((SELECT id FROM users WHERE username = 'echo'), '2LT', 'echo', '123456789', 800553600, 1368633600, 1381852800, 'D', 'HQ'),
          ((SELECT id FROM users WHERE username = 'foxtrot'), '2LT', 'foxtrot', '123456789', 800553600, 1368633600, 1381852800, 'D', 'HQ'),
          ((SELECT id FROM users WHERE username = 'golf'), '2LT', 'golf', '123456789', 800553600, 1368633600, 1381852800, 'D', 'HQ'),
          ((SELECT id FROM users WHERE username = 'hotel'), '2LT', 'hotel', '123456789', 800553600, 1368633600, 1381852800, 'C', 'HQ'),
          ((SELECT id FROM users WHERE username = 'india'), '2LT', 'india', '123456789', 800553600, 1368633600, 1381852800, 'C', 'HQ'),
          ((SELECT id FROM users WHERE username = 'juliet'), '2LT', 'juliet', '123456789', 800553600, 1368633600, 1381852800, 'C', 'HQ'),
          ((SELECT id FROM users WHERE username = 'kilo'), '2LT', 'kilo', '123456789', 800553600, 1368633600, 1381852800, 'C', 'HQ'),
          ((SELECT id FROM users WHERE username = 'lima'), '2LT', 'lima', '123456789', 800553600, 1368633600, 1381852800, 'B', 'HQ'),
          ((SELECT id FROM users WHERE username = 'mike'), '2LT', 'mike', '123456789', 800553600, 1368633600, 1381852800, 'B', 'HQ'),
          ((SELECT id FROM users WHERE username = 'november'), '2LT', 'november', '123456789', 800553600, 1368633600, 1381852800, 'B', 'HQ');

          -- Insert Positions
          INSERT INTO user_positions (user_id, position, start_date, end_date, approval_date, is_revalidation, is_instructor, cat_upgrade)
          VALUES
          ((SELECT id FROM users WHERE username = 'admin'), 'DEP', 1400169600, 1419436800, 1419955200, true, true, 'C'),
          ((SELECT id FROM users WHERE username = 'admin'), 'ISL', 1400169600, 1419436800, null, false, false, 'B'),
          ((SELECT id FROM users WHERE username = 'admin'), 'FIS', 1400169600, null, null, false, false, 'A'),
          ((SELECT id FROM users WHERE username = 'instructor'), 'PAP', 1400169600, 1419436800, 1419955200, false, true, 'C'),
          ((SELECT id FROM users WHERE username = 'instructor'), 'DEP', 1400169600, 1419436800, 1419955200, false, true, 'B'),
          ((SELECT id FROM users WHERE username = 'instructor'), 'ISL', 1400169600, 1419436800, 1419955200, false, true, null),
          ((SELECT id FROM users WHERE username = 'instructor'), 'PAC', 1400169600, 1419436800, 1419955200, false, true, 'A'),
          ((SELECT id FROM users WHERE username = 'instructor'), 'TAP', 1400169600, 1419436800, 1419955200, false, true, null),
          ((SELECT id FROM users WHERE username = 'instructor'), 'ARR', 1400169600, 1419436800, 1419955200, false, true, null),
          ((SELECT id FROM users WHERE username = 'instructor'), 'TAC', 1400169600, 1419436800, 1419955200, false, true, null),
          ((SELECT id FROM users WHERE username = 'instructor'), 'FIS', 1400169600, 1419436800, 1419955200, false, true, null),
          ((SELECT id FROM users WHERE username = 'alpha'), 'DEP', 1400169600, null, null, false, false, 'C'),
          ((SELECT id FROM users WHERE username = 'bravo'), 'DEP', 1400169600, null, null, false, false, 'C'),
          ((SELECT id FROM users WHERE username = 'charlie'), 'ARR', 1400169600, null, null, false, false, 'C'),
          ((SELECT id FROM users WHERE username = 'delta'), 'ARR', 1400169600, null, null, false, false, 'C'),
          ((SELECT id FROM users WHERE username = 'echo'), 'PAP', 1400169600, null, null, false, false, 'C'),
          ((SELECT id FROM users WHERE username = 'foxtrot'), 'PAP', 1400169600, null, null, false, false, 'C'),
          ((SELECT id FROM users WHERE username = 'golf'), 'TAP', 1400169600, null, null, false, false, 'C'),
          ((SELECT id FROM users WHERE username = 'hotel'), 'TAP', 1400169600, null, null, false, false, 'B'),
          ((SELECT id FROM users WHERE username = 'india'), 'PAP', 1400169600, null, null, false, false, 'B'),
          ((SELECT id FROM users WHERE username = 'juliet'), 'ARR', 1400169600, null, null, false, false, 'B'),
          ((SELECT id FROM users WHERE username = 'kilo'), 'DEP', 1400169600, null, null, false, false, 'B'),
          ((SELECT id FROM users WHERE username = 'lima'), 'TAC', 1400169600, null, null, false, false, 'A'),
          ((SELECT id FROM users WHERE username = 'mike'), 'PAC', 1400169600, null, null, false, false, 'A'),
          ((SELECT id FROM users WHERE username = 'november'), 'FIS', 1400169600, null, null, false, false, 'A');

          -- Insert Scenario Requirements
          INSERT INTO scenario_requirements
          (user_position_id, scenario_id, requirement, fulfilled, live_requirement, live_fulfilled)
          VALUES
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 1), 5, 0, 3, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 2), 5, 0, 3, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 3), 5, 0, 3, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 4), 5, 0, 3, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 5), 3, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 6), 3, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 7), 3, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 8), 2, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 9), 2, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 10), 1, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), (SELECT id FROM scenarios WHERE position = 'ISL' AND scenario_number = 1), 3, 0, 3, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), (SELECT id FROM scenarios WHERE position = 'ISL' AND scenario_number = 2), 3, 0, 3, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), (SELECT id FROM scenarios WHERE position = 'ISL' AND scenario_number = 3), 3, 0, 3, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), (SELECT id FROM scenarios WHERE position = 'ISL' AND scenario_number = 4), 3, 0, 3, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), (SELECT id FROM scenarios WHERE position = 'ISL' AND scenario_number = 5), 2, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), (SELECT id FROM scenarios WHERE position = 'ISL' AND scenario_number = 6), 2, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), (SELECT id FROM scenarios WHERE position = 'ISL' AND scenario_number = 7), 2, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), (SELECT id FROM scenarios WHERE position = 'ISL' AND scenario_number = 8), 2, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), (SELECT id FROM scenarios WHERE position = 'ISL' AND scenario_number = 9), 1, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), (SELECT id FROM scenarios WHERE position = 'ISL' AND scenario_number = 10), 1, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS'), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 1), 3, 0, 3, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS'), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 2), 3, 0, 3, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS'), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 3), 3, 0, 3, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS'), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 4), 3, 0, 3, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS'), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 5), 2, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS'), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 6), 2, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS'), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 7), 2, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS'), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 8), 2, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS'), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 9), 1, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS'), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 10), 1, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP'), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 1), 5, 0, 3, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP'), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 2), 5, 0, 3, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP'), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 3), 5, 0, 3, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP'), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 4), 5, 0, 3, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP'), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 5), 3, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP'), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 6), 3, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP'), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 7), 3, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP'), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 8), 2, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP'), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 9), 2, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP'), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 10), 1, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP'), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 1), 5, 0, 3, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP'), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 2), 5, 0, 3, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP'), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 3), 5, 0, 3, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP'), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 4), 5, 0, 3, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP'), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 5), 3, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP'), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 6), 3, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP'), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 7), 3, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP'), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 8), 2, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP'), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 9), 2, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP'), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 10), 1, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR'), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1), 5, 0, 3, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR'), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2), 5, 0, 3, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR'), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 3), 5, 0, 3, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR'), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4), 5, 0, 3, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR'), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 5), 3, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR'), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6), 3, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR'), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7), 3, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR'), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 8), 2, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR'), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9), 2, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR'), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10), 1, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR'), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1), 5, 0, 3, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR'), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2), 5, 0, 3, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR'), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 3), 5, 0, 3, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR'), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4), 5, 0, 3, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR'), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 5), 3, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR'), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6), 3, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR'), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7), 3, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR'), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 8), 2, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR'), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9), 2, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR'), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10), 1, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP'), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1), 5, 0, 3, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP'), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 2), 5, 0, 3, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP'), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 3), 5, 0, 3, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP'), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4), 5, 0, 3, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP'), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5), 3, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP'), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 6), 3, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP'), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 7), 3, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP'), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8), 2, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP'), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 9), 2, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP'), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 10), 1, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP'), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1), 5, 0, 3, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP'), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 2), 5, 0, 3, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP'), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 3), 5, 0, 3, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP'), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4), 5, 0, 3, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP'), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5), 3, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP'), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 6), 3, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP'), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 7), 3, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP'), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8), 2, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP'), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 9), 2, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP'), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 10), 1, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP'), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 1), 5, 0, 3, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP'), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 2), 5, 0, 3, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP'), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 3), 5, 0, 3, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP'), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 4), 5, 0, 3, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP'), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 5), 3, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP'), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 6), 3, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP'), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 7), 3, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP'), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 8), 2, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP'), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 9), 2, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP'), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 10), 1, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP'), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 1), 3, 0, 2, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP'), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 2), 3, 0, 2, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP'), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 3), 3, 0, 2, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP'), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 4), 3, 0, 2, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP'), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 5), 2, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP'), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 6), 2, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP'), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 7), 2, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP'), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 8), 2, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP'), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 9), 1, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP'), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 10), 1, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP'), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1), 3, 0, 2, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP'), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 2), 3, 0, 2, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP'), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 3), 3, 0, 2, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP'), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4), 3, 0, 2, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP'), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5), 2, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP'), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 6), 2, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP'), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 7), 2, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP'), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8), 2, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP'), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 9), 1, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP'), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 10), 1, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR'), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1), 3, 0, 2, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR'), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2), 3, 0, 2, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR'), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 3), 3, 0, 2, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR'), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4), 3, 0, 2, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR'), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 5), 2, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR'), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6), 2, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR'), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7), 2, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR'), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 8), 2, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR'), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9), 1, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR'), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10), 1, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP'), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 1), 3, 0, 2, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP'), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 2), 3, 0, 2, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP'), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 3), 3, 0, 2, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP'), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 4), 3, 0, 2, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP'), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 5), 2, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP'), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 6), 2, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP'), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 7), 2, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP'), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 8), 2, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP'), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 9), 1, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP'), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 10), 1, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC'), (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 1), 3, 0, 2, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC'), (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 2), 3, 0, 2, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC'), (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 3), 3, 0, 2, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC'), (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 4), 3, 0, 2, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC'), (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 5), 2, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC'), (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 6), 2, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC'), (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 7), 2, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC'), (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 8), 2, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC'), (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 9), 1, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC'), (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 10), 1, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC'), (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 1), 3, 0, 2, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC'), (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 2), 3, 0, 2, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC'), (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 3), 3, 0, 2, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC'), (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 4), 3, 0, 2, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC'), (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 5), 2, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC'), (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 6), 2, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC'), (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 7), 2, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC'), (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 8), 2, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC'), (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 9), 1, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC'), (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 10), 1, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS'), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 1), 3, 0, 2, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS'), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 2), 3, 0, 2, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS'), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 3), 3, 0, 2, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS'), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 4), 3, 0, 2, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS'), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 5), 2, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS'), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 6), 2, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS'), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 7), 2, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS'), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 8), 2, 0, 1, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS'), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 9), 1, 0, 0, 0),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS'), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 10), 1, 0, 0, 0)
          ;
  
          -- Insert Assessments
          INSERT INTO assessments 
          (user_position_id, assessment_number, instructor, date, intensity, objective1, a, b, c, d, e, f, g, h, I, j, safety, remarks, is_simulator)
          VALUES 
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 1, 'watson toh', 1400169600, 4, 'train', 6, 3, 4, 3, 4, 5, 6, 1, 6, 4, false, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 2, 'watson toh', 1400169600, 4, 'train', 7, 2, 6, 7, 2, 10, 1, 8, 4, 9, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 3, 'watson toh', 1400169600, 4, 'train', 4, 9, 5, 10, 3, 10, 8, 9, 7, 1, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 4, 'watson toh', 1400169600, 4, 'train', 4, 9, 3, 4, 7, 1, 6, 5, 4, 6, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 5, 'watson toh', 1400169600, 4, 'train', 8, 6, 3, 8, 7, 5, 4, 9, 7, 4, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 6, 'watson toh', 1400169600, 4, 'train', 4, 4, 1, 7, 8, 4, 3, 9, 9, 10, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 7, 'watson toh', 1400169600, 4, 'train', 2, 8, 8, 9, 5, 2, 1, 5, 8, 1, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 8, 'watson toh', 1400169600, 4, 'train', 6, 1, 3, 1, 7, 3, 1, 6, 4, 8, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 9, 'watson toh', 1400169600, 4, 'train', 7, 8, 2, 4, 9, 8, 10, 3, 9, 6, false, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 10, 'watson toh', 1400169600, 4, 'train', 4, 3, 4, 6, 2, 3, 4, 7, 6, 4, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 11, 'watson toh', 1400169600, 4, 'train', 4, 8, 3, 8, 5, 5, 7, 2, 3, 4, false, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 12, 'watson toh', 1400169600, 4, 'train', 6, 6, 1, 10, 6, 3, 1, 1, 10, 7, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 13, 'watson toh', 1400169600, 4, 'train', 8, 2, 8, 7, 3, 2, 1, 7, 1, 9, true, 'bad', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 14, 'watson toh', 1400169600, 4, 'train', 7, 8, 1, 5, 10, 2, 7, 1, 8, 3, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 15, 'watson toh', 1400169600, 4, 'train', 6, 1, 1, 1, 3, 9, 5, 7, 10, 6, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 16, 'watson toh', 1400169600, 4, 'train', 1, 4, 9, 4, 7, 1, 9, 7, 6, 6, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 17, 'watson toh', 1400169600, 4, 'train', 6, 6, 3, 9, 10, 8, 3, 8, 1, 7, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 18, 'watson toh', 1400169600, 4, 'train', 7, 2, 3, 7, 3, 4, 8, 8, 7, 6, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 19, 'watson toh', 1400169600, 4, 'train', 2, 7, 9, 3, 3, 4, 9, 8, 8, 6, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 20, 'watson toh', 1400169600, 4, 'train', 2, 7, 5, 8, 5, 4, 3, 3, 2, 2, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 21, 'watson toh', 1400169600, 4, 'train', 6, 9, 2, 6, 6, 7, 2, 8, 3, 9, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 22, 'watson toh', 1400169600, 4, 'train', 6, 5, 5, 8, 2, 2, 1, 5, 4, 7, false, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 23, 'watson toh', 1400169600, 4, 'train', 3, 8, 7, 8, 2, 4, 2, 6, 9, 8, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 24, 'watson toh', 1400169600, 4, 'train', 4, 10, 1, 4, 5, 4, 5, 7, 10, 9, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 25, 'watson toh', 1400169600, 4, 'train', 9, 5, 1, 3, 10, 2, 4, 6, 2, 4, true, 'bad', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 26, 'watson toh', 1400169600, 4, 'train', 4, 8, 9, 3, 3, 6, 3, 6, 4, 10, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 27, 'watson toh', 1400169600, 4, 'train', 7, 3, 3, 4, 4, 6, 3, 7, 2, 9, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 28, 'watson toh', 1400169600, 4, 'train', 2, 3, 3, 1, 8, 7, 5, 3, 10, 7, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 29, 'watson toh', 1400169600, 4, 'train', 7, 9, 6, 4, 4, 9, 8, 4, 3, 9, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 30, 'watson toh', 1400169600, 4, 'train', 2, 7, 9, 2, 6, 1, 7, 7, 10, 10, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 31, 'watson toh', 1400169600, 4, 'train', 7, 5, 8, 3, 6, 3, 4, 3, 7, 3, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 32, 'watson toh', 1400169600, 4, 'train', 2, 2, 5, 8, 3, 7, 2, 6, 9, 10, false, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 33, 'watson toh', 1400169600, 4, 'train', 7, 3, 4, 3, 2, 4, 5, 1, 3, 6, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 34, 'watson toh', 1400169600, 4, 'train', 8, 8, 6, 7, 3, 3, 10, 3, 6, 4, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 35, 'watson toh', 1400169600, 4, 'train', 8, 1, 5, 1, 2, 5, 3, 4, 10, 2, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 36, 'watson toh', 1400169600, 4, 'train', 8, 5, 7, 4, 6, 10, 2, 7, 10, 10, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 37, 'watson toh', 1400169600, 4, 'train', 7, 5, 1, 7, 5, 1, 3, 6, 7, 2, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 38, 'watson toh', 1400169600, 4, 'train', 6, 6, 3, 9, 10, 2, 6, 10, 3, 3, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 39, 'watson toh', 1400169600, 4, 'train', 9, 6, 9, 5, 8, 2, 6, 10, 6, 7, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 40, 'watson toh', 1400169600, 4, 'train', 10, 6, 9, 4, 4, 6, 5, 8, 1, 6, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 41, 'watson toh', 1400169600, 4, 'train', 2, 9, 5, 2, 9, 3, 4, 5, 1, 6, true, 'bad', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 42, 'watson toh', 1400169600, 4, 'train', 9, 4, 6, 8, 6, 5, 6, 7, 8, 5, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 43, 'watson toh', 1400169600, 4, 'train', 3, 6, 1, 8, 2, 5, 10, 8, 4, 1, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 44, 'watson toh', 1400169600, 4, 'train', 8, 3, 8, 1, 7, 1, 2, 3, 4, 5, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 45, 'watson toh', 1400169600, 4, 'train', 2, 5, 5, 6, 1, 5, 9, 8, 3, 2, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 46, 'watson toh', 1400169600, 4, 'train', 6, 8, 8, 3, 7, 10, 3, 8, 4, 10, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 47, 'watson toh', 1400169600, 4, 'train', 6, 2, 8, 9, 5, 3, 10, 1, 6, 1, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 48, 'watson toh', 1400169600, 4, 'train', 10, 3, 1, 5, 8, 3, 5, 1, 1, 9, true, 'bad', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 49, 'watson toh', 1400169600, 4, 'train', 5, 9, 1, 8, 9, 7, 4, 10, 9, 7, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'DEP'), 50, 'watson toh', 1400169600, 4, 'train', 2, 4, 9, 2, 1, 5, 8, 8, 2, 8, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), 1, 'watson toh', 1400169600, 4, 'train', 1, 4, 4, 1, 1, 6, 4, 4, 6, 3, true, 'bad', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), 2, 'watson toh', 1400169600, 4, 'train', 8, 4, 2, 5, 6, 2, 1, 2, 9, 7, true, 'bad', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), 3, 'watson toh', 1400169600, 4, 'train', 3, 1, 7, 6, 7, 9, 5, 4, 3, 2, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), 4, 'watson toh', 1400169600, 4, 'train', 2, 5, 3, 7, 10, 10, 7, 9, 4, 5, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), 5, 'watson toh', 1400169600, 4, 'train', 3, 8, 4, 5, 4, 2, 7, 5, 6, 6, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), 6, 'watson toh', 1400169600, 4, 'train', 9, 2, 7, 10, 9, 10, 7, 5, 6, 7, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), 7, 'watson toh', 1400169600, 4, 'train', 6, 9, 7, 7, 10, 1, 7, 2, 4, 4, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), 8, 'watson toh', 1400169600, 4, 'train', 3, 8, 4, 2, 1, 5, 2, 2, 7, 7, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), 9, 'watson toh', 1400169600, 4, 'train', 3, 4, 5, 5, 6, 2, 2, 9, 8, 6, true, 'bad', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), 10, 'watson toh', 1400169600, 4, 'train', 8, 5, 6, 8, 5, 7, 9, 5, 9, 10, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), 11, 'watson toh', 1400169600, 4, 'train', 8, 1, 10, 2, 9, 3, 4, 1, 1, 6, false, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), 12, 'watson toh', 1400169600, 4, 'train', 10, 3, 8, 3, 9, 7, 4, 9, 7, 1, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), 13, 'watson toh', 1400169600, 4, 'train', 9, 8, 2, 6, 8, 1, 9, 1, 9, 10, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), 14, 'watson toh', 1400169600, 4, 'train', 7, 5, 7, 1, 6, 1, 4, 7, 1, 5, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), 15, 'watson toh', 1400169600, 4, 'train', 6, 5, 6, 4, 2, 1, 4, 7, 10, 5, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), 16, 'watson toh', 1400169600, 4, 'train', 6, 8, 8, 3, 7, 9, 7, 3, 6, 6, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), 17, 'watson toh', 1400169600, 4, 'train', 1, 3, 3, 4, 3, 9, 4, 1, 2, 10, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), 18, 'watson toh', 1400169600, 4, 'train', 8, 6, 2, 4, 10, 4, 3, 9, 4, 10, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), 19, 'watson toh', 1400169600, 4, 'train', 3, 8, 7, 9, 10, 10, 5, 6, 8, 4, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), 20, 'watson toh', 1400169600, 4, 'train', 3, 7, 9, 1, 2, 8, 5, 2, 1, 3, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), 21, 'watson toh', 1400169600, 4, 'train', 10, 5, 1, 2, 6, 6, 8, 2, 8, 6, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), 22, 'watson toh', 1400169600, 4, 'train', 5, 7, 4, 6, 8, 6, 1, 10, 2, 10, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), 23, 'watson toh', 1400169600, 4, 'train', 6, 7, 8, 7, 3, 6, 2, 10, 5, 3, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), 24, 'watson toh', 1400169600, 4, 'train', 7, 10, 4, 9, 9, 10, 3, 7, 10, 7, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), 25, 'watson toh', 1400169600, 4, 'train', 1, 7, 1, 6, 6, 9, 8, 9, 9, 4, false, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), 26, 'watson toh', 1400169600, 4, 'train', 1, 6, 8, 8, 6, 7, 8, 9, 2, 2, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), 27, 'watson toh', 1400169600, 4, 'train', 5, 1, 6, 3, 4, 10, 9, 6, 8, 7, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), 28, 'watson toh', 1400169600, 4, 'train', 7, 1, 4, 3, 2, 4, 3, 5, 1, 8, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), 29, 'watson toh', 1400169600, 4, 'train', 9, 6, 9, 1, 5, 10, 4, 7, 6, 5, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), 30, 'watson toh', 1400169600, 4, 'train', 7, 6, 8, 8, 8, 7, 1, 2, 2, 2, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), 31, 'watson toh', 1400169600, 4, 'train', 8, 1, 3, 4, 6, 1, 4, 8, 5, 6, true, 'bad', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), 32, 'watson toh', 1400169600, 4, 'train', 7, 7, 5, 9, 1, 5, 7, 6, 2, 6, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), 33, 'watson toh', 1400169600, 4, 'train', 2, 1, 5, 5, 5, 1, 2, 7, 4, 10, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), 34, 'watson toh', 1400169600, 4, 'train', 3, 7, 5, 5, 9, 10, 9, 5, 6, 1, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), 35, 'watson toh', 1400169600, 4, 'train', 2, 9, 3, 8, 8, 3, 3, 5, 7, 10, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), 36, 'watson toh', 1400169600, 4, 'train', 2, 1, 9, 5, 9, 7, 10, 8, 7, 6, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), 37, 'watson toh', 1400169600, 4, 'train', 9, 5, 6, 10, 10, 6, 2, 5, 1, 4, false, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), 38, 'watson toh', 1400169600, 4, 'train', 1, 9, 7, 3, 8, 9, 2, 8, 3, 1, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), 39, 'watson toh', 1400169600, 4, 'train', 6, 9, 2, 4, 6, 6, 7, 5, 8, 10, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'ISL'), 40, 'watson toh', 1400169600, 4, 'train', 9, 6, 2, 10, 3, 1, 3, 2, 5, 5, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS'), 1, 'watson toh', 1400169600, 4, 'train', 10, 7, 5, 10, 3, 3, 3, 3, 3, 10, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS'), 2, 'watson toh', 1400169600, 4, 'train', 6, 5, 3, 1, 2, 6, 7, 3, 8, 5, true, 'bad', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS'), 3, 'watson toh', 1400169600, 4, 'train', 7, 5, 7, 1, 4, 7, 7, 7, 9, 2, false, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS'), 4, 'watson toh', 1400169600, 4, 'train', 9, 8, 5, 4, 8, 2, 2, 10, 10, 2, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS'), 5, 'watson toh', 1400169600, 4, 'train', 7, 10, 6, 10, 9, 8, 9, 6, 9, 7, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS'), 6, 'watson toh', 1400169600, 4, 'train', 9, 4, 4, 1, 1, 1, 8, 6, 5, 4, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS'), 7, 'watson toh', 1400169600, 4, 'train', 5, 5, 5, 7, 10, 5, 3, 1, 6, 10, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS'), 8, 'watson toh', 1400169600, 4, 'train', 5, 9, 1, 1, 3, 7, 10, 1, 10, 7, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS'), 9, 'watson toh', 1400169600, 4, 'train', 5, 9, 2, 7, 5, 4, 4, 1, 2, 7, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS'), 10, 'watson toh', 1400169600, 4, 'train', 5, 9, 5, 8, 7, 3, 3, 2, 5, 7, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS'), 11, 'watson toh', 1400169600, 4, 'train', 5, 9, 7, 1, 9, 2, 6, 4, 5, 10, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS'), 12, 'watson toh', 1400169600, 4, 'train', 3, 8, 6, 1, 10, 6, 1, 9, 1, 4, true, 'bad', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS'), 13, 'watson toh', 1400169600, 4, 'train', 7, 7, 2, 2, 9, 1, 2, 3, 6, 9, false, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS'), 14, 'watson toh', 1400169600, 4, 'train', 6, 3, 5, 9, 10, 4, 4, 9, 3, 10, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS'), 15, 'watson toh', 1400169600, 4, 'train', 5, 5, 10, 2, 10, 9, 3, 7, 1, 9, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS'), 16, 'watson toh', 1400169600, 4, 'train', 1, 9, 7, 8, 4, 5, 1, 10, 4, 8, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS'), 17, 'watson toh', 1400169600, 4, 'train', 10, 7, 7, 6, 6, 9, 10, 9, 8, 5, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS'), 18, 'watson toh', 1400169600, 4, 'train', 10, 10, 3, 8, 6, 1, 9, 5, 3, 3, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS'), 19, 'watson toh', 1400169600, 4, 'train', 5, 1, 9, 5, 6, 4, 8, 1, 1, 3, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS'), 20, 'watson toh', 1400169600, 4, 'train', 1, 2, 7, 5, 10, 8, 5, 3, 4, 7, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS'), 21, 'watson toh', 1400169600, 4, 'train', 3, 7, 1, 5, 5, 3, 8, 7, 7, 8, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS'), 22, 'watson toh', 1400169600, 4, 'train', 1, 3, 1, 2, 6, 9, 5, 3, 6, 4, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS'), 23, 'watson toh', 1400169600, 4, 'train', 1, 9, 5, 5, 3, 2, 7, 8, 10, 1, false, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS'), 24, 'watson toh', 1400169600, 4, 'train', 3, 9, 10, 7, 1, 1, 1, 1, 7, 3, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS'), 25, 'watson toh', 1400169600, 4, 'train', 7, 10, 1, 5, 1, 1, 9, 10, 4, 1, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS'), 26, 'watson toh', 1400169600, 4, 'train', 4, 4, 10, 9, 3, 4, 10, 10, 7, 7, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS'), 27, 'watson toh', 1400169600, 4, 'train', 1, 6, 9, 6, 1, 1, 3, 2, 4, 3, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS'), 28, 'watson toh', 1400169600, 4, 'train', 5, 5, 6, 4, 3, 4, 10, 10, 2, 1, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS'), 29, 'watson toh', 1400169600, 4, 'train', 7, 5, 8, 4, 4, 10, 8, 4, 10, 10, false, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS'), 30, 'watson toh', 1400169600, 4, 'train', 2, 3, 10, 1, 5, 8, 9, 9, 10, 3, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP'), 1, 'watson toh', 1400169600, 4, 'train', 8, 10, 3, 5, 4, 6, 5, 3, 10, 2, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP'), 2, 'watson toh', 1400169600, 4, 'train', 7, 1, 7, 10, 7, 9, 9, 5, 1, 9, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP'), 3, 'watson toh', 1400169600, 4, 'train', 9, 5, 10, 1, 2, 2, 1, 9, 6, 3, true, 'bad', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP'), 4, 'watson toh', 1400169600, 4, 'train', 5, 10, 1, 2, 4, 2, 8, 3, 6, 7, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP'), 5, 'watson toh', 1400169600, 4, 'train', 8, 5, 4, 1, 1, 5, 8, 5, 8, 4, false, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP'), 6, 'watson toh', 1400169600, 4, 'train', 3, 1, 2, 7, 3, 8, 3, 3, 4, 6, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP'), 7, 'watson toh', 1400169600, 4, 'train', 8, 1, 2, 8, 5, 3, 9, 7, 8, 6, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP'), 8, 'watson toh', 1400169600, 4, 'train', 8, 2, 4, 2, 10, 4, 5, 7, 8, 3, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP'), 9, 'watson toh', 1400169600, 4, 'train', 8, 2, 9, 10, 2, 3, 2, 8, 8, 3, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP'), 10, 'watson toh', 1400169600, 4, 'train', 3, 8, 3, 8, 1, 2, 5, 5, 4, 5, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP'), 11, 'watson toh', 1400169600, 4, 'train', 1, 4, 5, 4, 3, 8, 9, 1, 3, 8, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP'), 12, 'watson toh', 1400169600, 4, 'train', 1, 8, 7, 10, 4, 7, 1, 1, 4, 5, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP'), 13, 'watson toh', 1400169600, 4, 'train', 1, 2, 6, 7, 2, 5, 2, 7, 10, 10, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP'), 14, 'watson toh', 1400169600, 4, 'train', 8, 4, 6, 3, 3, 6, 3, 7, 6, 9, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP'), 15, 'watson toh', 1400169600, 4, 'train', 6, 2, 3, 6, 1, 10, 4, 9, 9, 1, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP'), 16, 'watson toh', 1400169600, 4, 'train', 9, 10, 7, 6, 8, 7, 6, 1, 8, 2, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP'), 17, 'watson toh', 1400169600, 4, 'train', 6, 8, 7, 8, 4, 4, 3, 6, 6, 3, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP'), 18, 'watson toh', 1400169600, 4, 'train', 7, 4, 1, 2, 10, 4, 3, 1, 7, 5, true, 'bad', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP'), 19, 'watson toh', 1400169600, 4, 'train', 8, 3, 2, 4, 7, 9, 3, 5, 6, 5, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP'), 20, 'watson toh', 1400169600, 4, 'train', 5, 5, 9, 3, 7, 9, 10, 1, 5, 10, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP'), 1, 'watson toh', 1400169600, 4, 'train', 4, 4, 6, 5, 10, 7, 2, 8, 3, 8, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP'), 2, 'watson toh', 1400169600, 4, 'train', 2, 8, 7, 3, 7, 9, 2, 4, 7, 4, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP'), 3, 'watson toh', 1400169600, 4, 'train', 4, 2, 10, 5, 5, 5, 1, 2, 4, 6, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP'), 4, 'watson toh', 1400169600, 4, 'train', 5, 1, 4, 3, 4, 8, 2, 10, 3, 2, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP'), 5, 'watson toh', 1400169600, 4, 'train', 3, 10, 5, 7, 6, 9, 8, 7, 6, 4, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP'), 6, 'watson toh', 1400169600, 4, 'train', 8, 2, 8, 10, 2, 7, 6, 9, 10, 10, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP'), 7, 'watson toh', 1400169600, 4, 'train', 2, 2, 4, 10, 9, 7, 9, 3, 8, 8, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP'), 8, 'watson toh', 1400169600, 4, 'train', 1, 5, 3, 7, 9, 7, 2, 5, 10, 9, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP'), 9, 'watson toh', 1400169600, 4, 'train', 3, 9, 6, 2, 1, 4, 6, 4, 4, 2, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP'), 10, 'watson toh', 1400169600, 4, 'train', 1, 2, 4, 7, 8, 6, 10, 8, 3, 5, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR'), 1, 'watson toh', 1400169600, 4, 'train', 3, 5, 4, 6, 10, 7, 6, 9, 8, 4, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR'), 2, 'watson toh', 1400169600, 4, 'train', 7, 9, 10, 8, 10, 6, 2, 7, 10, 7, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR'), 3, 'watson toh', 1400169600, 4, 'train', 9, 1, 9, 3, 4, 7, 6, 3, 9, 4, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR'), 4, 'watson toh', 1400169600, 4, 'train', 7, 6, 7, 6, 5, 6, 10, 2, 3, 2, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR'), 5, 'watson toh', 1400169600, 4, 'train', 9, 10, 5, 9, 2, 5, 10, 4, 4, 1, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR'), 6, 'watson toh', 1400169600, 4, 'train', 1, 8, 9, 10, 9, 5, 4, 10, 8, 9, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR'), 7, 'watson toh', 1400169600, 4, 'train', 5, 6, 9, 10, 10, 5, 5, 9, 6, 5, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR'), 8, 'watson toh', 1400169600, 4, 'train', 6, 5, 4, 8, 3, 4, 2, 1, 5, 7, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR'), 9, 'watson toh', 1400169600, 4, 'train', 10, 6, 2, 5, 3, 4, 5, 1, 2, 5, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR'), 10, 'watson toh', 1400169600, 4, 'train', 6, 2, 5, 1, 5, 10, 5, 5, 8, 4, false, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR'), 11, 'watson toh', 1400169600, 4, 'train', 4, 5, 1, 9, 2, 2, 5, 5, 2, 6, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR'), 12, 'watson toh', 1400169600, 4, 'train', 4, 8, 3, 10, 1, 1, 5, 10, 1, 10, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR'), 13, 'watson toh', 1400169600, 4, 'train', 8, 6, 9, 1, 9, 9, 5, 1, 1, 10, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR'), 14, 'watson toh', 1400169600, 4, 'train', 6, 3, 4, 10, 3, 4, 2, 6, 1, 1, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR'), 15, 'watson toh', 1400169600, 4, 'train', 3, 1, 3, 5, 5, 2, 4, 2, 1, 2, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR'), 16, 'watson toh', 1400169600, 4, 'train', 8, 6, 3, 4, 2, 2, 1, 1, 4, 3, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR'), 17, 'watson toh', 1400169600, 4, 'train', 10, 9, 9, 3, 3, 1, 4, 5, 5, 8, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR'), 18, 'watson toh', 1400169600, 4, 'train', 5, 6, 8, 1, 4, 4, 6, 8, 7, 1, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR'), 19, 'watson toh', 1400169600, 4, 'train', 4, 7, 1, 10, 10, 9, 5, 5, 1, 1, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR'), 20, 'watson toh', 1400169600, 4, 'train', 8, 1, 4, 3, 6, 5, 8, 6, 8, 3, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR'), 21, 'watson toh', 1400169600, 4, 'train', 1, 10, 6, 3, 4, 1, 3, 10, 2, 2, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR'), 22, 'watson toh', 1400169600, 4, 'train', 9, 8, 3, 2, 3, 10, 1, 2, 3, 1, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR'), 23, 'watson toh', 1400169600, 4, 'train', 1, 4, 9, 10, 6, 7, 9, 9, 9, 8, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR'), 24, 'watson toh', 1400169600, 4, 'train', 6, 8, 6, 4, 7, 4, 4, 2, 8, 8, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR'), 25, 'watson toh', 1400169600, 4, 'train', 2, 7, 10, 5, 7, 5, 2, 1, 1, 7, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR'), 26, 'watson toh', 1400169600, 4, 'train', 10, 3, 4, 10, 2, 3, 1, 9, 5, 9, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR'), 27, 'watson toh', 1400169600, 4, 'train', 6, 1, 2, 10, 5, 8, 9, 9, 8, 6, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR'), 28, 'watson toh', 1400169600, 4, 'train', 3, 9, 8, 9, 1, 5, 1, 10, 2, 3, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR'), 29, 'watson toh', 1400169600, 4, 'train', 9, 2, 1, 5, 7, 3, 8, 5, 6, 9, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR'), 30, 'watson toh', 1400169600, 4, 'train', 8, 6, 2, 2, 3, 7, 4, 1, 8, 7, false, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR'), 1, 'watson toh', 1400169600, 4, 'train', 9, 10, 3, 5, 7, 8, 6, 7, 2, 1, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR'), 2, 'watson toh', 1400169600, 4, 'train', 10, 6, 6, 5, 4, 10, 3, 10, 10, 4, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR'), 3, 'watson toh', 1400169600, 4, 'train', 3, 8, 9, 8, 8, 8, 5, 3, 10, 2, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR'), 4, 'watson toh', 1400169600, 4, 'train', 2, 4, 6, 2, 2, 6, 6, 1, 5, 8, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR'), 5, 'watson toh', 1400169600, 4, 'train', 7, 4, 5, 3, 6, 8, 9, 9, 7, 10, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR'), 6, 'watson toh', 1400169600, 4, 'train', 1, 1, 8, 6, 8, 1, 2, 6, 9, 9, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR'), 7, 'watson toh', 1400169600, 4, 'train', 4, 5, 4, 3, 8, 7, 1, 2, 9, 1, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR'), 8, 'watson toh', 1400169600, 4, 'train', 6, 10, 9, 10, 1, 10, 8, 5, 2, 2, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR'), 9, 'watson toh', 1400169600, 4, 'train', 6, 7, 7, 5, 8, 2, 3, 6, 10, 10, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR'), 10, 'watson toh', 1400169600, 4, 'train', 10, 7, 8, 7, 6, 5, 10, 3, 9, 7, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR'), 11, 'watson toh', 1400169600, 4, 'train', 9, 1, 6, 4, 7, 1, 3, 4, 8, 2, false, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR'), 12, 'watson toh', 1400169600, 4, 'train', 6, 8, 10, 5, 5, 8, 1, 7, 1, 7, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR'), 13, 'watson toh', 1400169600, 4, 'train', 3, 9, 7, 10, 6, 9, 9, 10, 4, 1, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR'), 14, 'watson toh', 1400169600, 4, 'train', 5, 1, 1, 4, 9, 1, 7, 4, 5, 2, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR'), 15, 'watson toh', 1400169600, 4, 'train', 2, 6, 6, 7, 8, 1, 6, 8, 10, 6, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR'), 16, 'watson toh', 1400169600, 4, 'train', 1, 10, 7, 9, 2, 5, 2, 4, 3, 9, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR'), 17, 'watson toh', 1400169600, 4, 'train', 3, 2, 10, 2, 7, 6, 2, 7, 1, 8, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR'), 18, 'watson toh', 1400169600, 4, 'train', 10, 8, 5, 9, 5, 7, 5, 3, 5, 2, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR'), 19, 'watson toh', 1400169600, 4, 'train', 5, 6, 1, 3, 3, 8, 9, 4, 3, 1, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR'), 20, 'watson toh', 1400169600, 4, 'train', 7, 3, 3, 9, 7, 5, 1, 9, 1, 5, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR'), 21, 'watson toh', 1400169600, 4, 'train', 10, 4, 3, 9, 4, 2, 8, 3, 8, 7, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR'), 22, 'watson toh', 1400169600, 4, 'train', 5, 1, 5, 8, 10, 9, 3, 2, 10, 1, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR'), 23, 'watson toh', 1400169600, 4, 'train', 1, 4, 2, 1, 8, 2, 7, 10, 8, 4, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR'), 24, 'watson toh', 1400169600, 4, 'train', 10, 9, 3, 2, 9, 2, 9, 9, 10, 6, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR'), 25, 'watson toh', 1400169600, 4, 'train', 10, 5, 4, 5, 1, 3, 9, 1, 1, 9, true, 'bad', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR'), 26, 'watson toh', 1400169600, 4, 'train', 7, 10, 9, 7, 7, 2, 6, 1, 4, 7, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR'), 27, 'watson toh', 1400169600, 4, 'train', 6, 9, 5, 1, 7, 7, 6, 8, 5, 2, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR'), 28, 'watson toh', 1400169600, 4, 'train', 8, 4, 9, 3, 2, 10, 3, 10, 1, 7, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR'), 29, 'watson toh', 1400169600, 4, 'train', 7, 7, 1, 10, 7, 6, 5, 9, 4, 8, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR'), 30, 'watson toh', 1400169600, 4, 'train', 10, 1, 3, 1, 2, 10, 3, 10, 5, 2, true, 'bad', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP'), 1, 'watson toh', 1400169600, 4, 'train', 7, 3, 9, 2, 2, 4, 3, 3, 3, 5, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP'), 2, 'watson toh', 1400169600, 4, 'train', 5, 10, 8, 8, 7, 3, 4, 3, 3, 7, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP'), 3, 'watson toh', 1400169600, 4, 'train', 6, 6, 9, 8, 1, 4, 9, 4, 3, 9, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP'), 4, 'watson toh', 1400169600, 4, 'train', 1, 1, 10, 1, 10, 1, 2, 2, 6, 3, false, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP'), 5, 'watson toh', 1400169600, 4, 'train', 5, 6, 1, 10, 3, 5, 6, 5, 7, 4, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP'), 6, 'watson toh', 1400169600, 4, 'train', 10, 2, 9, 2, 10, 6, 9, 6, 8, 4, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP'), 7, 'watson toh', 1400169600, 4, 'train', 7, 5, 8, 9, 3, 9, 6, 7, 6, 2, false, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP'), 8, 'watson toh', 1400169600, 4, 'train', 6, 2, 3, 8, 2, 3, 8, 2, 8, 2, false, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP'), 9, 'watson toh', 1400169600, 4, 'train', 6, 7, 6, 5, 7, 8, 10, 5, 5, 3, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP'), 10, 'watson toh', 1400169600, 4, 'train', 2, 3, 2, 1, 5, 9, 9, 8, 5, 10, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP'), 1, 'watson toh', 1400169600, 4, 'train', 10, 2, 6, 3, 10, 4, 8, 9, 5, 4, false, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP'), 2, 'watson toh', 1400169600, 4, 'train', 4, 10, 10, 5, 7, 4, 2, 6, 5, 7, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP'), 3, 'watson toh', 1400169600, 4, 'train', 1, 8, 9, 9, 3, 10, 5, 10, 9, 9, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP'), 4, 'watson toh', 1400169600, 4, 'train', 10, 9, 3, 6, 2, 5, 10, 6, 5, 1, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP'), 5, 'watson toh', 1400169600, 4, 'train', 1, 8, 7, 8, 8, 1, 9, 1, 9, 6, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP'), 6, 'watson toh', 1400169600, 4, 'train', 2, 2, 8, 10, 3, 6, 9, 5, 3, 9, false, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP'), 7, 'watson toh', 1400169600, 4, 'train', 7, 6, 10, 8, 8, 5, 4, 6, 3, 1, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP'), 8, 'watson toh', 1400169600, 4, 'train', 8, 9, 8, 7, 10, 2, 7, 1, 5, 10, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP'), 9, 'watson toh', 1400169600, 4, 'train', 4, 2, 10, 2, 9, 10, 4, 2, 7, 1, false, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP'), 10, 'watson toh', 1400169600, 4, 'train', 1, 3, 6, 4, 9, 9, 1, 6, 8, 7, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP'), 11, 'watson toh', 1400169600, 4, 'train', 5, 3, 3, 5, 1, 2, 6, 5, 9, 3, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP'), 12, 'watson toh', 1400169600, 4, 'train', 7, 10, 4, 5, 9, 1, 2, 2, 2, 10, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP'), 13, 'watson toh', 1400169600, 4, 'train', 1, 9, 10, 8, 6, 7, 8, 6, 2, 1, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP'), 14, 'watson toh', 1400169600, 4, 'train', 4, 1, 6, 2, 2, 1, 6, 4, 5, 8, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP'), 15, 'watson toh', 1400169600, 4, 'train', 6, 4, 5, 2, 10, 10, 1, 6, 5, 6, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP'), 16, 'watson toh', 1400169600, 4, 'train', 5, 9, 2, 5, 10, 8, 3, 1, 7, 2, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP'), 17, 'watson toh', 1400169600, 4, 'train', 10, 3, 4, 7, 6, 4, 9, 10, 4, 6, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP'), 18, 'watson toh', 1400169600, 4, 'train', 8, 1, 1, 9, 8, 3, 3, 9, 2, 1, false, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP'), 19, 'watson toh', 1400169600, 4, 'train', 1, 1, 3, 3, 10, 7, 2, 7, 4, 2, true, 'bad', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP'), 20, 'watson toh', 1400169600, 4, 'train', 5, 10, 7, 7, 8, 8, 7, 9, 9, 4, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP'), 21, 'watson toh', 1400169600, 4, 'train', 7, 6, 8, 8, 4, 3, 10, 6, 7, 9, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP'), 22, 'watson toh', 1400169600, 4, 'train', 8, 2, 3, 4, 3, 2, 3, 8, 1, 10, true, 'bad', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP'), 23, 'watson toh', 1400169600, 4, 'train', 7, 8, 5, 2, 6, 8, 3, 4, 10, 1, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP'), 24, 'watson toh', 1400169600, 4, 'train', 9, 7, 1, 8, 8, 3, 3, 4, 8, 1, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP'), 25, 'watson toh', 1400169600, 4, 'train', 4, 9, 8, 8, 3, 6, 8, 1, 4, 2, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP'), 26, 'watson toh', 1400169600, 4, 'train', 1, 7, 4, 10, 1, 10, 1, 7, 5, 1, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP'), 27, 'watson toh', 1400169600, 4, 'train', 10, 8, 6, 7, 10, 5, 7, 4, 1, 2, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP'), 28, 'watson toh', 1400169600, 4, 'train', 2, 5, 3, 4, 10, 3, 9, 1, 6, 5, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP'), 29, 'watson toh', 1400169600, 4, 'train', 3, 5, 9, 4, 2, 2, 1, 10, 7, 5, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP'), 30, 'watson toh', 1400169600, 4, 'train', 2, 8, 8, 4, 6, 4, 4, 2, 6, 1, true, 'bad', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP'), 1, 'watson toh', 1400169600, 4, 'train', 1, 1, 6, 10, 4, 5, 8, 8, 8, 7, false, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP'), 2, 'watson toh', 1400169600, 4, 'train', 9, 6, 5, 7, 3, 3, 3, 4, 7, 2, true, 'bad', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP'), 3, 'watson toh', 1400169600, 4, 'train', 1, 6, 1, 3, 9, 10, 7, 9, 3, 7, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP'), 4, 'watson toh', 1400169600, 4, 'train', 3, 5, 4, 4, 2, 8, 1, 8, 3, 3, true, 'bad', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP'), 5, 'watson toh', 1400169600, 4, 'train', 4, 6, 3, 9, 6, 2, 4, 4, 4, 9, false, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP'), 6, 'watson toh', 1400169600, 4, 'train', 5, 9, 3, 10, 5, 3, 4, 3, 7, 4, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP'), 7, 'watson toh', 1400169600, 4, 'train', 4, 2, 10, 1, 9, 1, 10, 3, 6, 4, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP'), 8, 'watson toh', 1400169600, 4, 'train', 5, 2, 10, 10, 3, 10, 9, 7, 2, 6, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP'), 9, 'watson toh', 1400169600, 4, 'train', 2, 4, 7, 10, 2, 9, 9, 5, 1, 2, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP'), 10, 'watson toh', 1400169600, 4, 'train', 10, 10, 7, 2, 8, 6, 3, 10, 3, 8, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP'), 11, 'watson toh', 1400169600, 4, 'train', 7, 2, 1, 7, 9, 4, 3, 8, 1, 7, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP'), 12, 'watson toh', 1400169600, 4, 'train', 2, 6, 4, 9, 10, 6, 5, 4, 10, 3, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP'), 13, 'watson toh', 1400169600, 4, 'train', 5, 6, 6, 1, 4, 6, 6, 6, 9, 6, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP'), 14, 'watson toh', 1400169600, 4, 'train', 1, 5, 8, 10, 10, 9, 3, 4, 7, 4, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP'), 15, 'watson toh', 1400169600, 4, 'train', 7, 7, 4, 8, 4, 8, 6, 2, 3, 10, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP'), 16, 'watson toh', 1400169600, 4, 'train', 8, 8, 6, 4, 8, 2, 1, 4, 10, 6, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP'), 17, 'watson toh', 1400169600, 4, 'train', 6, 6, 10, 2, 9, 7, 9, 5, 10, 9, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP'), 18, 'watson toh', 1400169600, 4, 'train', 6, 10, 9, 8, 4, 8, 1, 4, 2, 1, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP'), 19, 'watson toh', 1400169600, 4, 'train', 8, 8, 3, 9, 3, 4, 1, 2, 3, 4, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP'), 20, 'watson toh', 1400169600, 4, 'train', 7, 7, 10, 2, 6, 5, 8, 9, 9, 9, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP'), 21, 'watson toh', 1400169600, 4, 'train', 10, 2, 2, 1, 4, 5, 10, 7, 10, 3, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP'), 22, 'watson toh', 1400169600, 4, 'train', 10, 9, 8, 4, 6, 3, 10, 9, 10, 5, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP'), 23, 'watson toh', 1400169600, 4, 'train', 7, 5, 6, 5, 5, 2, 2, 6, 1, 2, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP'), 24, 'watson toh', 1400169600, 4, 'train', 7, 3, 10, 6, 9, 6, 6, 2, 8, 6, false, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP'), 25, 'watson toh', 1400169600, 4, 'train', 9, 7, 2, 1, 4, 8, 5, 2, 4, 2, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP'), 26, 'watson toh', 1400169600, 4, 'train', 1, 10, 10, 6, 8, 1, 3, 5, 1, 1, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP'), 27, 'watson toh', 1400169600, 4, 'train', 8, 8, 8, 6, 5, 3, 5, 10, 3, 6, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP'), 28, 'watson toh', 1400169600, 4, 'train', 8, 3, 3, 9, 1, 4, 2, 6, 5, 3, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP'), 29, 'watson toh', 1400169600, 4, 'train', 10, 8, 2, 8, 10, 4, 9, 4, 1, 1, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP'), 30, 'watson toh', 1400169600, 4, 'train', 1, 10, 8, 2, 2, 10, 9, 3, 1, 9, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP'), 1, 'watson toh', 1400169600, 4, 'train', 10, 3, 1, 6, 8, 5, 1, 2, 7, 10, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP'), 2, 'watson toh', 1400169600, 4, 'train', 3, 2, 5, 4, 4, 4, 1, 9, 10, 4, true, 'bad', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP'), 3, 'watson toh', 1400169600, 4, 'train', 2, 2, 2, 7, 9, 6, 4, 6, 4, 9, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP'), 4, 'watson toh', 1400169600, 4, 'train', 10, 1, 6, 5, 1, 7, 5, 2, 10, 10, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP'), 5, 'watson toh', 1400169600, 4, 'train', 10, 5, 9, 9, 4, 9, 7, 1, 10, 7, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP'), 6, 'watson toh', 1400169600, 4, 'train', 2, 3, 9, 2, 8, 9, 10, 3, 8, 6, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP'), 7, 'watson toh', 1400169600, 4, 'train', 4, 9, 10, 6, 1, 5, 9, 6, 6, 3, false, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP'), 8, 'watson toh', 1400169600, 4, 'train', 4, 7, 6, 2, 5, 8, 4, 6, 2, 3, true, 'bad', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP'), 9, 'watson toh', 1400169600, 4, 'train', 2, 5, 8, 3, 5, 2, 3, 1, 3, 10, true, 'bad', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP'), 10, 'watson toh', 1400169600, 4, 'train', 5, 10, 1, 6, 4, 3, 6, 8, 8, 1, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP'), 1, 'watson toh', 1400169600, 4, 'train', 5, 6, 10, 5, 5, 6, 2, 7, 6, 9, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP'), 2, 'watson toh', 1400169600, 4, 'train', 7, 1, 6, 7, 6, 3, 6, 7, 5, 7, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP'), 3, 'watson toh', 1400169600, 4, 'train', 9, 8, 6, 4, 6, 7, 3, 6, 10, 3, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP'), 4, 'watson toh', 1400169600, 4, 'train', 2, 10, 3, 2, 1, 1, 7, 8, 7, 10, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP'), 5, 'watson toh', 1400169600, 4, 'train', 2, 5, 3, 2, 3, 5, 9, 2, 8, 1, false, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP'), 6, 'watson toh', 1400169600, 4, 'train', 9, 5, 10, 2, 7, 1, 9, 1, 5, 7, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP'), 7, 'watson toh', 1400169600, 4, 'train', 2, 3, 9, 2, 4, 2, 7, 3, 10, 10, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP'), 8, 'watson toh', 1400169600, 4, 'train', 4, 3, 5, 10, 3, 5, 8, 2, 4, 10, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP'), 9, 'watson toh', 1400169600, 4, 'train', 1, 6, 5, 9, 10, 10, 5, 8, 10, 10, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP'), 10, 'watson toh', 1400169600, 4, 'train', 9, 8, 2, 9, 3, 4, 1, 10, 8, 8, false, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP'), 11, 'watson toh', 1400169600, 4, 'train', 7, 2, 4, 2, 5, 2, 5, 1, 8, 6, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP'), 12, 'watson toh', 1400169600, 4, 'train', 7, 9, 3, 5, 9, 5, 3, 7, 4, 6, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP'), 13, 'watson toh', 1400169600, 4, 'train', 7, 10, 2, 6, 7, 6, 8, 1, 7, 10, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP'), 14, 'watson toh', 1400169600, 4, 'train', 3, 4, 10, 6, 10, 2, 1, 8, 4, 2, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP'), 15, 'watson toh', 1400169600, 4, 'train', 10, 10, 8, 9, 6, 6, 7, 1, 5, 10, false, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP'), 16, 'watson toh', 1400169600, 4, 'train', 2, 7, 9, 1, 3, 6, 3, 7, 4, 9, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP'), 17, 'watson toh', 1400169600, 4, 'train', 7, 1, 5, 8, 10, 10, 5, 10, 1, 4, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP'), 18, 'watson toh', 1400169600, 4, 'train', 1, 6, 8, 3, 9, 8, 7, 4, 3, 5, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP'), 19, 'watson toh', 1400169600, 4, 'train', 2, 7, 7, 8, 1, 10, 3, 5, 9, 8, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP'), 20, 'watson toh', 1400169600, 4, 'train', 4, 8, 3, 8, 6, 1, 6, 7, 1, 3, true, 'bad', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP'), 21, 'watson toh', 1400169600, 4, 'train', 7, 10, 7, 6, 3, 8, 5, 5, 5, 2, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP'), 22, 'watson toh', 1400169600, 4, 'train', 7, 2, 10, 7, 5, 3, 9, 10, 10, 5, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP'), 23, 'watson toh', 1400169600, 4, 'train', 4, 5, 3, 4, 9, 4, 5, 2, 3, 5, false, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP'), 24, 'watson toh', 1400169600, 4, 'train', 9, 4, 6, 1, 5, 4, 7, 2, 5, 3, true, 'bad', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP'), 25, 'watson toh', 1400169600, 4, 'train', 7, 6, 1, 8, 6, 8, 10, 3, 6, 4, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP'), 26, 'watson toh', 1400169600, 4, 'train', 8, 4, 1, 9, 2, 9, 2, 10, 10, 3, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP'), 27, 'watson toh', 1400169600, 4, 'train', 7, 6, 9, 1, 1, 3, 7, 9, 3, 4, false, 'bad', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP'), 28, 'watson toh', 1400169600, 4, 'train', 6, 2, 5, 3, 8, 10, 6, 3, 10, 2, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP'), 29, 'watson toh', 1400169600, 4, 'train', 7, 6, 2, 6, 4, 6, 3, 8, 1, 9, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP'), 30, 'watson toh', 1400169600, 4, 'train', 4, 5, 10, 7, 8, 8, 8, 10, 10, 7, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR'), 1, 'watson toh', 1400169600, 4, 'train', 10, 10, 7, 5, 1, 5, 6, 1, 4, 2, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR'), 2, 'watson toh', 1400169600, 4, 'train', 3, 6, 6, 1, 9, 2, 8, 1, 10, 2, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR'), 3, 'watson toh', 1400169600, 4, 'train', 7, 9, 1, 2, 5, 7, 9, 3, 1, 1, false, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR'), 4, 'watson toh', 1400169600, 4, 'train', 4, 6, 7, 10, 2, 4, 8, 6, 2, 7, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR'), 5, 'watson toh', 1400169600, 4, 'train', 8, 8, 9, 8, 1, 3, 8, 5, 4, 9, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR'), 6, 'watson toh', 1400169600, 4, 'train', 7, 2, 9, 10, 9, 2, 9, 9, 5, 8, false, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR'), 7, 'watson toh', 1400169600, 4, 'train', 8, 5, 4, 9, 3, 5, 1, 1, 2, 2, true, 'bad', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR'), 8, 'watson toh', 1400169600, 4, 'train', 2, 9, 8, 2, 6, 10, 4, 9, 6, 1, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR'), 9, 'watson toh', 1400169600, 4, 'train', 9, 3, 10, 9, 6, 8, 9, 5, 2, 4, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR'), 10, 'watson toh', 1400169600, 4, 'train', 1, 10, 6, 6, 10, 8, 10, 10, 4, 8, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR'), 11, 'watson toh', 1400169600, 4, 'train', 3, 1, 5, 1, 9, 6, 7, 4, 10, 6, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR'), 12, 'watson toh', 1400169600, 4, 'train', 10, 1, 8, 2, 9, 5, 8, 9, 3, 4, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR'), 13, 'watson toh', 1400169600, 4, 'train', 6, 7, 8, 3, 9, 8, 6, 1, 4, 2, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR'), 14, 'watson toh', 1400169600, 4, 'train', 2, 9, 2, 9, 3, 10, 6, 2, 10, 9, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR'), 15, 'watson toh', 1400169600, 4, 'train', 2, 2, 6, 2, 3, 1, 5, 2, 9, 8, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR'), 16, 'watson toh', 1400169600, 4, 'train', 5, 6, 3, 3, 8, 6, 6, 9, 1, 3, true, 'bad', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR'), 17, 'watson toh', 1400169600, 4, 'train', 8, 2, 9, 8, 8, 2, 4, 8, 10, 1, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR'), 18, 'watson toh', 1400169600, 4, 'train', 2, 4, 4, 9, 5, 3, 6, 3, 7, 4, false, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR'), 19, 'watson toh', 1400169600, 4, 'train', 9, 8, 9, 6, 1, 6, 8, 3, 4, 8, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR'), 20, 'watson toh', 1400169600, 4, 'train', 4, 8, 7, 9, 3, 9, 2, 3, 4, 10, false, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR'), 21, 'watson toh', 1400169600, 4, 'train', 3, 9, 2, 9, 4, 1, 3, 4, 6, 6, true, 'bad', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR'), 22, 'watson toh', 1400169600, 4, 'train', 9, 6, 6, 5, 10, 7, 3, 2, 4, 7, false, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR'), 23, 'watson toh', 1400169600, 4, 'train', 5, 4, 10, 6, 5, 5, 10, 7, 3, 6, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR'), 24, 'watson toh', 1400169600, 4, 'train', 6, 2, 7, 3, 1, 1, 9, 7, 8, 6, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR'), 25, 'watson toh', 1400169600, 4, 'train', 2, 4, 6, 1, 8, 5, 10, 9, 2, 4, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR'), 26, 'watson toh', 1400169600, 4, 'train', 5, 4, 6, 9, 9, 9, 6, 3, 9, 9, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR'), 27, 'watson toh', 1400169600, 4, 'train', 6, 10, 4, 4, 4, 1, 1, 5, 3, 3, true, 'bad', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR'), 28, 'watson toh', 1400169600, 4, 'train', 3, 7, 5, 9, 8, 8, 5, 1, 5, 6, false, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR'), 29, 'watson toh', 1400169600, 4, 'train', 4, 2, 2, 1, 8, 1, 4, 5, 10, 2, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR'), 30, 'watson toh', 1400169600, 4, 'train', 3, 6, 1, 8, 10, 4, 5, 5, 7, 7, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP'), 1, 'watson toh', 1400169600, 4, 'train', 6, 2, 6, 8, 9, 8, 8, 6, 9, 1, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP'), 2, 'watson toh', 1400169600, 4, 'train', 7, 10, 1, 10, 1, 3, 7, 4, 5, 5, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP'), 3, 'watson toh', 1400169600, 4, 'train', 6, 6, 1, 5, 7, 8, 5, 5, 8, 7, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP'), 4, 'watson toh', 1400169600, 4, 'train', 7, 1, 8, 9, 1, 8, 9, 9, 8, 4, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP'), 5, 'watson toh', 1400169600, 4, 'train', 1, 8, 10, 4, 5, 6, 7, 4, 6, 2, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP'), 6, 'watson toh', 1400169600, 4, 'train', 6, 1, 2, 1, 2, 9, 7, 10, 8, 9, false, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP'), 7, 'watson toh', 1400169600, 4, 'train', 10, 5, 4, 10, 6, 9, 2, 3, 7, 6, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP'), 8, 'watson toh', 1400169600, 4, 'train', 3, 1, 2, 5, 10, 2, 10, 4, 2, 5, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP'), 9, 'watson toh', 1400169600, 4, 'train', 3, 6, 3, 3, 6, 5, 7, 6, 6, 10, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP'), 10, 'watson toh', 1400169600, 4, 'train', 4, 10, 5, 10, 7, 1, 2, 4, 7, 1, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC'), 1, 'watson toh', 1400169600, 4, 'train', 7, 5, 1, 2, 3, 4, 6, 3, 4, 2, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC'), 2, 'watson toh', 1400169600, 4, 'train', 1, 4, 5, 2, 6, 9, 7, 6, 8, 7, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC'), 3, 'watson toh', 1400169600, 4, 'train', 6, 10, 6, 9, 4, 6, 8, 6, 10, 4, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC'), 4, 'watson toh', 1400169600, 4, 'train', 6, 6, 8, 2, 7, 4, 6, 7, 2, 3, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC'), 5, 'watson toh', 1400169600, 4, 'train', 2, 2, 10, 3, 1, 2, 9, 9, 5, 6, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC'), 6, 'watson toh', 1400169600, 4, 'train', 9, 6, 5, 9, 8, 4, 2, 3, 6, 10, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC'), 7, 'watson toh', 1400169600, 4, 'train', 1, 6, 9, 10, 5, 9, 9, 1, 3, 2, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC'), 8, 'watson toh', 1400169600, 4, 'train', 5, 8, 8, 7, 6, 10, 9, 8, 8, 5, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC'), 9, 'watson toh', 1400169600, 4, 'train', 8, 2, 4, 10, 6, 6, 4, 3, 5, 2, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC'), 10, 'watson toh', 1400169600, 4, 'train', 9, 9, 5, 6, 10, 2, 2, 6, 9, 6, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC'), 11, 'watson toh', 1400169600, 4, 'train', 5, 6, 2, 1, 8, 8, 4, 7, 2, 7, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC'), 12, 'watson toh', 1400169600, 4, 'train', 8, 10, 10, 1, 1, 2, 1, 6, 1, 1, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC'), 13, 'watson toh', 1400169600, 4, 'train', 6, 10, 2, 4, 2, 6, 9, 1, 8, 2, true, 'bad', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC'), 14, 'watson toh', 1400169600, 4, 'train', 4, 3, 2, 7, 1, 7, 6, 5, 2, 3, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC'), 15, 'watson toh', 1400169600, 4, 'train', 1, 10, 4, 6, 10, 9, 1, 3, 3, 4, false, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC'), 16, 'watson toh', 1400169600, 4, 'train', 8, 9, 1, 4, 5, 10, 10, 3, 4, 1, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC'), 17, 'watson toh', 1400169600, 4, 'train', 4, 4, 2, 5, 9, 2, 8, 6, 8, 5, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC'), 18, 'watson toh', 1400169600, 4, 'train', 3, 2, 8, 1, 3, 7, 3, 7, 6, 2, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC'), 19, 'watson toh', 1400169600, 4, 'train', 5, 2, 7, 7, 1, 2, 2, 7, 6, 8, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC'), 20, 'watson toh', 1400169600, 4, 'train', 1, 3, 10, 3, 10, 9, 2, 8, 10, 6, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC'), 21, 'watson toh', 1400169600, 4, 'train', 6, 10, 4, 10, 5, 7, 5, 3, 10, 2, false, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC'), 22, 'watson toh', 1400169600, 4, 'train', 10, 6, 5, 4, 8, 8, 6, 6, 9, 1, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC'), 23, 'watson toh', 1400169600, 4, 'train', 5, 3, 7, 2, 4, 3, 2, 3, 2, 4, false, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC'), 24, 'watson toh', 1400169600, 4, 'train', 7, 3, 10, 8, 8, 4, 6, 10, 1, 4, false, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC'), 25, 'watson toh', 1400169600, 4, 'train', 2, 5, 4, 8, 10, 1, 7, 5, 8, 9, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC'), 26, 'watson toh', 1400169600, 4, 'train', 5, 2, 10, 2, 7, 9, 1, 6, 7, 6, false, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC'), 27, 'watson toh', 1400169600, 4, 'train', 2, 6, 1, 8, 4, 4, 1, 8, 9, 8, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC'), 28, 'watson toh', 1400169600, 4, 'train', 5, 8, 7, 1, 9, 3, 7, 2, 5, 6, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC'), 29, 'watson toh', 1400169600, 4, 'train', 2, 1, 8, 9, 4, 3, 1, 9, 5, 5, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC'), 30, 'watson toh', 1400169600, 4, 'train', 5, 10, 1, 7, 2, 4, 2, 3, 10, 5, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC'), 1, 'watson toh', 1400169600, 4, 'train', 10, 3, 7, 8, 1, 4, 1, 9, 10, 9, false, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC'), 2, 'watson toh', 1400169600, 4, 'train', 9, 7, 7, 5, 9, 7, 2, 5, 1, 4, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC'), 3, 'watson toh', 1400169600, 4, 'train', 1, 10, 7, 9, 2, 3, 9, 6, 10, 9, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC'), 4, 'watson toh', 1400169600, 4, 'train', 1, 2, 6, 6, 3, 10, 9, 5, 4, 9, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC'), 5, 'watson toh', 1400169600, 4, 'train', 8, 3, 1, 10, 7, 3, 7, 3, 9, 5, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC'), 6, 'watson toh', 1400169600, 4, 'train', 2, 2, 5, 6, 8, 8, 3, 3, 8, 7, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC'), 7, 'watson toh', 1400169600, 4, 'train', 7, 2, 1, 6, 7, 7, 9, 5, 7, 3, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC'), 8, 'watson toh', 1400169600, 4, 'train', 10, 6, 6, 5, 9, 8, 6, 2, 8, 10, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC'), 9, 'watson toh', 1400169600, 4, 'train', 1, 4, 6, 2, 3, 2, 5, 7, 2, 5, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC'), 10, 'watson toh', 1400169600, 4, 'train', 3, 7, 9, 3, 7, 8, 6, 2, 7, 2, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC'), 11, 'watson toh', 1400169600, 4, 'train', 3, 10, 1, 4, 6, 6, 4, 4, 7, 8, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC'), 12, 'watson toh', 1400169600, 4, 'train', 10, 3, 9, 6, 4, 3, 6, 7, 9, 9, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC'), 13, 'watson toh', 1400169600, 4, 'train', 3, 8, 6, 9, 1, 9, 4, 10, 8, 1, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC'), 14, 'watson toh', 1400169600, 4, 'train', 10, 6, 4, 8, 1, 1, 6, 3, 5, 4, false, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC'), 15, 'watson toh', 1400169600, 4, 'train', 10, 3, 9, 10, 6, 2, 10, 1, 1, 2, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC'), 16, 'watson toh', 1400169600, 4, 'train', 7, 10, 3, 2, 9, 8, 10, 7, 4, 5, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC'), 17, 'watson toh', 1400169600, 4, 'train', 6, 8, 5, 1, 1, 10, 2, 6, 2, 2, true, 'bad', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC'), 18, 'watson toh', 1400169600, 4, 'train', 4, 6, 7, 4, 7, 9, 7, 2, 9, 3, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC'), 19, 'watson toh', 1400169600, 4, 'train', 8, 6, 7, 3, 7, 8, 7, 3, 7, 7, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC'), 20, 'watson toh', 1400169600, 4, 'train', 7, 5, 3, 4, 2, 5, 8, 10, 6, 7, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC'), 21, 'watson toh', 1400169600, 4, 'train', 8, 10, 8, 6, 10, 9, 6, 7, 7, 1, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC'), 22, 'watson toh', 1400169600, 4, 'train', 9, 3, 4, 4, 9, 10, 10, 7, 8, 10, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC'), 23, 'watson toh', 1400169600, 4, 'train', 2, 6, 3, 8, 4, 9, 3, 5, 6, 1, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC'), 24, 'watson toh', 1400169600, 4, 'train', 1, 4, 3, 1, 10, 3, 1, 6, 10, 2, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC'), 25, 'watson toh', 1400169600, 4, 'train', 8, 5, 8, 8, 6, 3, 6, 5, 10, 3, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC'), 26, 'watson toh', 1400169600, 4, 'train', 1, 7, 3, 3, 8, 9, 3, 10, 8, 7, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC'), 27, 'watson toh', 1400169600, 4, 'train', 10, 8, 9, 9, 6, 1, 10, 3, 6, 3, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC'), 28, 'watson toh', 1400169600, 4, 'train', 8, 3, 10, 10, 2, 10, 4, 1, 8, 2, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC'), 29, 'watson toh', 1400169600, 4, 'train', 6, 5, 10, 8, 5, 5, 1, 10, 6, 6, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC'), 30, 'watson toh', 1400169600, 4, 'train', 1, 7, 8, 10, 2, 3, 8, 8, 7, 3, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS'), 1, 'watson toh', 1400169600, 4, 'train', 8, 10, 1, 9, 9, 4, 8, 6, 10, 6, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS'), 2, 'watson toh', 1400169600, 4, 'train', 5, 4, 2, 1, 1, 2, 1, 10, 1, 2, true, 'bad', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS'), 3, 'watson toh', 1400169600, 4, 'train', 5, 3, 2, 10, 10, 5, 7, 1, 6, 5, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS'), 4, 'watson toh', 1400169600, 4, 'train', 10, 4, 7, 7, 8, 3, 4, 8, 1, 2, false, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS'), 5, 'watson toh', 1400169600, 4, 'train', 3, 9, 5, 10, 8, 6, 3, 4, 10, 6, true, 'good', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS'), 6, 'watson toh', 1400169600, 4, 'train', 3, 9, 8, 9, 1, 5, 9, 4, 6, 6, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS'), 7, 'watson toh', 1400169600, 4, 'train', 2, 8, 5, 9, 7, 2, 1, 9, 6, 2, true, 'good', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS'), 8, 'watson toh', 1400169600, 4, 'train', 9, 1, 4, 4, 2, 2, 5, 6, 4, 5, true, 'bad', true),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS'), 9, 'watson toh', 1400169600, 4, 'train', 8, 6, 7, 2, 8, 7, 1, 3, 1, 5, true, 'bad', false),
          ((SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS'), 10, 'watson toh', 1400169600, 4, 'train', 9, 9, 7, 6, 6, 10, 1, 6, 10, 10, false, 'good', true)
          ;

          -- Insert Assessment Scenarios
          INSERT INTO assessment_scenarios
          (assessment_id, scenario_id)
          VALUES
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND assessment_number = 1), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 1)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND assessment_number = 1), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 3)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND assessment_number = 1), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 5)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND assessment_number = 2), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 2)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND assessment_number = 2), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 4)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND assessment_number = 2), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 6)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND assessment_number = 3), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 2)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND assessment_number = 3), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 3)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND assessment_number = 3), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 4)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND assessment_number = 4), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 1)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND assessment_number = 4), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 5)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND assessment_number = 4), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 6)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND assessment_number = 5), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 1)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND assessment_number = 6), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 2)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND assessment_number = 7), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 3)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND assessment_number = 8), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 4)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND assessment_number = 9), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 5)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND assessment_number = 10), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 6)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND assessment_number = 11), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 7)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND assessment_number = 12), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 8)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND assessment_number = 13), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 9)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND assessment_number = 14), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 10)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND assessment_number = 1), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 2)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND assessment_number = 1), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 4)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND assessment_number = 1), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 6)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND assessment_number = 1), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 7)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND assessment_number = 2), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 1)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND assessment_number = 3), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 4)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND assessment_number = 4), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 1)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND assessment_number = 5), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 1)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND assessment_number = 6), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 5)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND assessment_number = 1), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 8)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND assessment_number = 2), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 6)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND assessment_number = 3), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 7)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND assessment_number = 4), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 2)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND assessment_number = 5), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 10)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND assessment_number = 6), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 3)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND assessment_number = 7), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 10)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND assessment_number = 8), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 2)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND assessment_number = 9), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 8)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND assessment_number = 10), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 8)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND assessment_number = 1), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND assessment_number = 2), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND assessment_number = 3), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 8)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND assessment_number = 4), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND assessment_number = 5), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND assessment_number = 6), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND assessment_number = 7), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 3)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND assessment_number = 8), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND assessment_number = 9), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND assessment_number = 10), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND assessment_number = 11), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 3)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND assessment_number = 12), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND assessment_number = 13), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND assessment_number = 14), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND assessment_number = 15), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND assessment_number = 16), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND assessment_number = 17), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND assessment_number = 18), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND assessment_number = 19), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND assessment_number = 20), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 3)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND assessment_number = 21), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 3)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND assessment_number = 22), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND assessment_number = 23), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND assessment_number = 24), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND assessment_number = 25), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND assessment_number = 26), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND assessment_number = 27), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND assessment_number = 28), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND assessment_number = 29), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND assessment_number = 30), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 3)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND assessment_number = 1), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND assessment_number = 2), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND assessment_number = 3), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND assessment_number = 4), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND assessment_number = 5), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND assessment_number = 6), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND assessment_number = 7), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 5)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND assessment_number = 8), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND assessment_number = 9), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND assessment_number = 10), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND assessment_number = 11), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND assessment_number = 12), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND assessment_number = 13), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 3)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND assessment_number = 14), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 8)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND assessment_number = 15), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND assessment_number = 16), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND assessment_number = 17), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND assessment_number = 18), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND assessment_number = 19), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND assessment_number = 20), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND assessment_number = 21), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND assessment_number = 22), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND assessment_number = 23), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND assessment_number = 24), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND assessment_number = 25), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 8)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND assessment_number = 26), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND assessment_number = 27), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND assessment_number = 28), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND assessment_number = 29), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 5)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND assessment_number = 30), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND assessment_number = 1), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 2)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND assessment_number = 2), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 7)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND assessment_number = 3), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 10)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND assessment_number = 4), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND assessment_number = 5), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND assessment_number = 6), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 9)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND assessment_number = 7), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND assessment_number = 8), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 3)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND assessment_number = 9), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND assessment_number = 10), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND assessment_number = 1), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 10)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND assessment_number = 2), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND assessment_number = 3), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 7)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND assessment_number = 4), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND assessment_number = 5), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 2)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND assessment_number = 6), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND assessment_number = 7), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND assessment_number = 8), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 10)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND assessment_number = 9), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND assessment_number = 10), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 6)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND assessment_number = 11), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 6)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND assessment_number = 12), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND assessment_number = 13), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND assessment_number = 14), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND assessment_number = 15), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 3)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND assessment_number = 16), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 7)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND assessment_number = 17), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND assessment_number = 18), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 2)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND assessment_number = 19), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 9)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND assessment_number = 20), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND assessment_number = 21), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND assessment_number = 22), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND assessment_number = 23), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND assessment_number = 24), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 7)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND assessment_number = 25), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 9)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND assessment_number = 26), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 2)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND assessment_number = 27), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 9)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND assessment_number = 28), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 9)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND assessment_number = 29), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND assessment_number = 30), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND assessment_number = 1), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 2)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND assessment_number = 2), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 1)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND assessment_number = 3), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 2)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND assessment_number = 4), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 9)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND assessment_number = 5), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 8)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND assessment_number = 6), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 6)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND assessment_number = 7), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 7)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND assessment_number = 8), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 6)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND assessment_number = 9), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 7)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND assessment_number = 10), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 10)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND assessment_number = 11), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 5)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND assessment_number = 12), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 3)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND assessment_number = 13), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 7)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND assessment_number = 14), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 8)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND assessment_number = 15), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 7)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND assessment_number = 16), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 3)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND assessment_number = 17), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 1)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND assessment_number = 18), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 1)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND assessment_number = 19), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 10)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND assessment_number = 20), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 3)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND assessment_number = 21), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 2)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND assessment_number = 22), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 10)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND assessment_number = 23), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 1)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND assessment_number = 24), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 3)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND assessment_number = 25), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 6)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND assessment_number = 26), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 8)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND assessment_number = 27), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 8)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND assessment_number = 28), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 2)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND assessment_number = 29), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 4)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND assessment_number = 30), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 4)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND assessment_number = 1), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 7)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND assessment_number = 2), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 1)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND assessment_number = 3), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 1)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND assessment_number = 4), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 9)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND assessment_number = 5), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 6)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND assessment_number = 6), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 2)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND assessment_number = 7), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 3)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND assessment_number = 8), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 5)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND assessment_number = 9), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 6)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND assessment_number = 10), (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 1)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND assessment_number = 1), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 3)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND assessment_number = 2), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 10)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND assessment_number = 3), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND assessment_number = 4), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND assessment_number = 5), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 2)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND assessment_number = 6), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND assessment_number = 7), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND assessment_number = 8), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND assessment_number = 9), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND assessment_number = 10), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND assessment_number = 11), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 6)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND assessment_number = 12), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 9)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND assessment_number = 13), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND assessment_number = 14), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND assessment_number = 15), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND assessment_number = 16), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 2)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND assessment_number = 17), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 6)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND assessment_number = 18), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND assessment_number = 19), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND assessment_number = 20), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND assessment_number = 21), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 10)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND assessment_number = 22), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND assessment_number = 23), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 2)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND assessment_number = 24), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND assessment_number = 25), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 3)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND assessment_number = 26), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND assessment_number = 27), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 7)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND assessment_number = 28), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 10)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND assessment_number = 29), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 7)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND assessment_number = 30), (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND assessment_number = 1), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND assessment_number = 2), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND assessment_number = 3), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND assessment_number = 4), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND assessment_number = 5), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND assessment_number = 6), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND assessment_number = 7), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND assessment_number = 8), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND assessment_number = 9), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND assessment_number = 10), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND assessment_number = 11), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 3)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND assessment_number = 12), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND assessment_number = 13), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 5)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND assessment_number = 14), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND assessment_number = 15), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND assessment_number = 16), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 5)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND assessment_number = 17), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND assessment_number = 18), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND assessment_number = 19), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND assessment_number = 20), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND assessment_number = 21), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND assessment_number = 22), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 5)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND assessment_number = 23), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND assessment_number = 24), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND assessment_number = 25), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 5)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND assessment_number = 26), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 5)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND assessment_number = 27), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND assessment_number = 28), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND assessment_number = 29), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND assessment_number = 30), (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND assessment_number = 1), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 10)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND assessment_number = 2), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 2)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND assessment_number = 3), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 2)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND assessment_number = 4), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 1)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND assessment_number = 5), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 9)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND assessment_number = 6), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 10)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND assessment_number = 7), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 5)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND assessment_number = 8), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 3)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND assessment_number = 9), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 4)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND assessment_number = 10), (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 5)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND assessment_number = 1), (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 7)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND assessment_number = 2), (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 5)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND assessment_number = 3), (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 3)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND assessment_number = 4), (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 9)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND assessment_number = 5), (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 7)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND assessment_number = 6), (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 2)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND assessment_number = 7), (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 9)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND assessment_number = 8), (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 6)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND assessment_number = 9), (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 2)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND assessment_number = 10), (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 9)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND assessment_number = 11), (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 4)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND assessment_number = 12), (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 8)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND assessment_number = 13), (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 7)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND assessment_number = 14), (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 6)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND assessment_number = 15), (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 9)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND assessment_number = 16), (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 3)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND assessment_number = 17), (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 2)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND assessment_number = 18), (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 4)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND assessment_number = 19), (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 7)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND assessment_number = 20), (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 5)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND assessment_number = 21), (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 5)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND assessment_number = 22), (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 6)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND assessment_number = 23), (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 8)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND assessment_number = 24), (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 5)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND assessment_number = 25), (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 9)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND assessment_number = 26), (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 4)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND assessment_number = 27), (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 8)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND assessment_number = 28), (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 8)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND assessment_number = 29), (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 1)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND assessment_number = 30), (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 7)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND assessment_number = 1), (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 8)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND assessment_number = 2), (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 5)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND assessment_number = 3), (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 2)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND assessment_number = 4), (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 5)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND assessment_number = 5), (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 10)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND assessment_number = 6), (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 7)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND assessment_number = 7), (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 7)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND assessment_number = 8), (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 10)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND assessment_number = 9), (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 5)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND assessment_number = 10), (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 3)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND assessment_number = 11), (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 9)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND assessment_number = 12), (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 6)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND assessment_number = 13), (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 5)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND assessment_number = 14), (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 8)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND assessment_number = 15), (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 4)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND assessment_number = 16), (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 8)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND assessment_number = 17), (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 8)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND assessment_number = 18), (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 1)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND assessment_number = 19), (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 5)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND assessment_number = 20), (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 3)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND assessment_number = 21), (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 7)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND assessment_number = 22), (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 10)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND assessment_number = 23), (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 7)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND assessment_number = 24), (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 10)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND assessment_number = 25), (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 8)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND assessment_number = 26), (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 2)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND assessment_number = 27), (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 5)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND assessment_number = 28), (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 3)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND assessment_number = 29), (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 10)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND assessment_number = 30), (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 1)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND assessment_number = 1), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 6)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND assessment_number = 2), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 10)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND assessment_number = 3), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 7)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND assessment_number = 4), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 9)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND assessment_number = 5), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 4)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND assessment_number = 6), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 3)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND assessment_number = 7), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 3)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND assessment_number = 8), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 10)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND assessment_number = 9), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 9)),
          ((SELECT id FROM assessments WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND assessment_number = 10), (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 7))
          ;

          -- Update Scenario Requirements
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 1)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 1) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 1)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 1);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 3)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 3) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 3)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 3);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 5)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 5) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 5)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 5);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 2)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 2) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 2)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 2);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 4)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 4) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 4)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 4);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 6)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 6) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 6)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 6);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 2)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 2) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 2)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 2);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 3)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 3) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 3)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 3);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 4)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 4) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 4)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 4);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 1)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 1) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 1)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 1);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 5)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 5) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 5)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 5);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 6)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 6) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 6)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 6);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 1)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 1) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 1)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 1);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 2)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 2) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 2)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 2);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 3)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 3) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 3)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 3);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 4)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 4) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 4)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 4);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 5)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 5) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 5)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 5);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 6)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 6) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 6)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 6);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 7)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 7) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 7)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 7);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 8)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 8) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 8)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 8);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 9)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 9) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 9)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 9);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 10)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 10) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 10)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'admin') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 10);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 2)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 2) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 2)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 2);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 4)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 4) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 4)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 4);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 6)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 6) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 6)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 6);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 7)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 7) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 7)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 7);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 1)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 1) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 1)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 1);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 4)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 4) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 4)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 4);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 1)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 1) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 1)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 1);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 1)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 1) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 1)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 1);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 5)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 5) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 5)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'alpha') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 5);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 8)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 8) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 8)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 8);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 6)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 6) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 6)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 6);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 7)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 7) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 7)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 7);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 2)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 2) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 2)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 2);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 10)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 10) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 10)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 10);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 3)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 3) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 3)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 3);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 10)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 10) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 10)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 10);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 2)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 2) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 2)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 2);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 8)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 8) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 8)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 8);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 8)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 8) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 8)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'bravo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 8);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 8)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 8) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 8)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 8);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 3)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 3) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 3)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 3);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 3)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 3) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 3)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 3);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 3)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 3) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 3)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 3);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 3)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 3) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 3)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 3);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 3)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 3) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 3)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'charlie') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 3);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 5)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 5) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 5)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 5);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 3)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 3) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 3)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 3);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 8)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 8) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 8)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 8);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 8)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 8) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 8)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 8);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 5)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 5) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 5)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 5);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'delta') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 2)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 2) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 2)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 2);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 7)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 7) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 7)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 7);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 10)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 10) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 10)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 10);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 9)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 9) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 9)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 9);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 3)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 3) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 3)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 3);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'echo') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 10)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 10) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 10)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 10);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 7)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 7) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 7)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 7);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 2)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 2) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 2)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 2);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 10)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 10) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 10)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 10);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 6)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 6) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 6)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 6);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 6)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 6) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 6)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 6);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 3)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 3) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 3)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 3);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 7)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 7) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 7)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 7);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 2)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 2) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 2)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 2);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 9)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 9) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 9)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 9);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 7)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 7) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 7)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 7);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 9)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 9) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 9)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 9);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 2)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 2) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 2)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 2);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 9)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 9) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 9)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 9);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 9)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 9) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 9)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 9);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'foxtrot') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 2)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 2) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 2)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 2);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 1)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 1) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 1)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 1);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 2)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 2) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 2)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 2);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 9)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 9) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 9)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 9);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 8)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 8) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 8)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 8);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 6)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 6) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 6)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 6);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 7)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 7) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 7)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 7);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 6)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 6) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 6)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 6);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 7)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 7) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 7)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 7);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 10)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 10) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 10)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 10);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 5)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 5) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 5)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 5);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 3)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 3) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 3)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 3);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 7)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 7) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 7)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 7);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 8)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 8) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 8)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 8);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 7)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 7) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 7)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 7);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 3)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 3) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 3)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 3);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 1)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 1) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 1)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 1);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 1)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 1) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 1)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 1);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 10)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 10) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 10)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 10);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 3)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 3) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 3)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 3);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 2)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 2) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 2)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 2);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 10)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 10) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 10)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 10);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 1)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 1) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 1)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 1);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 3)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 3) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 3)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 3);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 6)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 6) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 6)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 6);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 8)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 8) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 8)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 8);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 8)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 8) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 8)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 8);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 2)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 2) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 2)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 2);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 4)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 4) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 4)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 4);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 4)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 4) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 4)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'golf') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 4);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 7)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 7) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 7)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 7);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 1)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 1) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 1)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 1);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 1)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 1) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 1)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 1);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 9)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 9) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 9)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 9);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 6)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 6) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 6)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 6);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 2)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 2) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 2)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 2);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 3)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 3) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 3)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 3);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 5)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 5) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 5)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 5);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 6)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 6) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 6)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 6);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 1)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 1) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 1)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'hotel') AND position = 'TAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAP' AND scenario_number = 1);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 3)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 3) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 3)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 3);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 10)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 10) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 10)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 10);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 2)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 2) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 2)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 2);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 6)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 6) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 6)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 6);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 9)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 9) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 9)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 9);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 2)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 2) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 2)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 2);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 6)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 6) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 6)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 6);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 4);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 10)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 10) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 10)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 10);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 5);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 2)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 2) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 2)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 2);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 3)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 3) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 3)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 3);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 1);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 7)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 7) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 7)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 7);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 10)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 10) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 10)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 10);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 7)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 7) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 7)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 7);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'india') AND position = 'PAP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAP' AND scenario_number = 8);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 3)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 3) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 3)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 3);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 5)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 5) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 5)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 5);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 9);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 5)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 5) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 5)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 5);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 7);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 5)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 5) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 5)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 5);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 10);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 2);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 5)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 5) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 5)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 5);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 5)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 5) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 5)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 5);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 6);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 4);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'juliet') AND position = 'ARR') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'ARR' AND scenario_number = 1);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 10)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 10) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 10)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 10);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 2)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 2) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 2)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 2);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 2)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 2) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 2)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 2);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 1)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 1) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 1)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 1);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 9)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 9) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 9)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 9);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 10)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 10) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 10)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 10);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 5)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 5) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 5)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 5);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 3)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 3) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 3)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 3);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 4)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 4) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 4)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 4);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 5)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 5) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 5)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'kilo') AND position = 'DEP') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'DEP' AND scenario_number = 5);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 7)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 7) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 7)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 7);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 5)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 5) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 5)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 5);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 3)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 3) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 3)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 3);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 9)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 9) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 9)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 9);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 7)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 7) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 7)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 7);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 2)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 2) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 2)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 2);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 9)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 9) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 9)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 9);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 6)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 6) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 6)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 6);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 2)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 2) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 2)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 2);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 9)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 9) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 9)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 9);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 4)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 4) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 4)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 4);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 8)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 8) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 8)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 8);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 7)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 7) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 7)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 7);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 6)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 6) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 6)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 6);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 9)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 9) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 9)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 9);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 3)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 3) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 3)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 3);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 2)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 2) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 2)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 2);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 4)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 4) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 4)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 4);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 7)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 7) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 7)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 7);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 5)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 5) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 5)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 5);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 5)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 5) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 5)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 5);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 6)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 6) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 6)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 6);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 8)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 8) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 8)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 8);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 5)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 5) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 5)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 5);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 9)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 9) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 9)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 9);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 4)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 4) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 4)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 4);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 8)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 8) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 8)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 8);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 8)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 8) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 8)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 8);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 1)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 1) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 1)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 1);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 7)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 7) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 7)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'lima') AND position = 'TAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'TAC' AND scenario_number = 7);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 8)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 8) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 8)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 8);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 5)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 5) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 5)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 5);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 2)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 2) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 2)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 2);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 5)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 5) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 5)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 5);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 10)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 10) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 10)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 10);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 7)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 7) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 7)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 7);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 7)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 7) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 7)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 7);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 10)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 10) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 10)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 10);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 5)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 5) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 5)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 5);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 3)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 3) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 3)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 3);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 9)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 9) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 9)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 9);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 6)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 6) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 6)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 6);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 5)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 5) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 5)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 5);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 8)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 8) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 8)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 8);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 4)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 4) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 4)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 4);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 8)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 8) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 8)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 8);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 8)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 8) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 8)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 8);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 1)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 1) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 1)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 1);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 5)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 5) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 5)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 5);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 3)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 3) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 3)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 3);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 7)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 7) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 7)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 7);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 10)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 10) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 10)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 10);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 7)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 7) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 7)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 7);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 10)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 10) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 10)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 10);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 8)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 8) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 8)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 8);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 2)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 2) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 2)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 2);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 5)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 5) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 5)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 5);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 3)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 3) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 3)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 3);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 10)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 10) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 10)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 10);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 1)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 1) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 1)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'mike') AND position = 'PAC') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'PAC' AND scenario_number = 1);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 6)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 6) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 6)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 6);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 10)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 10) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 10)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 10);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 7)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 7) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 7)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 7);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 9)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 9) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 9)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 9);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 4)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 4) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 4)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 4);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 3)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 3) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 3)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 3);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 3)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 3) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 3)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 3);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 10)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 10) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 10)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 10);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 9)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 9) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 9)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 9);
          
          WITH
          scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 7)
          ),
          live_scenario_count AS (
              SELECT COUNT(assessment_scenarios.scenario_id) AS live_scenario_count
              FROM assessment_scenarios
              JOIN assessments ON assessments.id = assessment_scenarios.assessment_id
              WHERE assessments.user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 7) AND assessments.is_simulator = false
          ), 
          sim_scenario_count AS (
              SELECT scenario_count - live_scenario_count AS sim_scenario_count
              FROM scenario_count, live_scenario_count
          ),
          requirements AS (
            SELECT requirement, live_requirement, requirement - live_requirement AS sim_requirement
              FROM scenario_requirements
            WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 7)
          )
          UPDATE scenario_requirements
          SET fulfilled = (
              SELECT LEAST(requirements.requirement, live_scenario_count.live_scenario_count + LEAST(sim_scenario_count.sim_scenario_count, requirements.sim_requirement))
              FROM live_scenario_count, sim_scenario_count, requirements
          ), live_fulfilled = live_scenario_count.live_scenario_count
          FROM scenario_count, live_scenario_count, sim_scenario_count, requirements
          WHERE user_position_id = (SELECT id FROM user_positions WHERE user_id = (SELECT id FROM users WHERE username = 'november') AND position = 'FIS') AND scenario_id = (SELECT id FROM scenarios WHERE position = 'FIS' AND scenario_number = 7);

      COMMIT;
    `,
      async (err: Error, res: any) => {
        if (err) {
          await client.query("ROLLBACK;");
          throw err;
        }
        console.log("Inserted Seed");
      }
    );
    console.log("Seed All - Seeding Completed");
  });
};

export {};
module.exports = seed;
